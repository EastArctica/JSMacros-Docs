{
  "name": "EventNameChange",
  "fullClassName": "EventNameChange",
  "description": "This event is fired when a player's name changes in the world.",
  "overview": "This event is fired when a player's name changes in the world. Backed by class `EventNameChange`.\n\n## Behavior\n\n* Fires when a player's display name changes\n- The `oldName` field contains the previous name\n- The `newName` field contains the current name\n- Not cancellable\n- Useful for tracking player identity changes\n\n## Event payload\n\n| Field  | Type    | Description                              |\n| ------ | ------- | ---------------------------------------- |\n| oldName | string  | The previous name of the player          |\n| newName | string  | The new name of the player               |\n\n## Signature\n```js\nJsMacros.on(\"NameChange\", JavaWrapper.methodToJavaAsync((event) => {\n  // ...\n}));\n```\n\n## Minimal example\n\n```js\nJsMacros.on(\"NameChange\", JavaWrapper.methodToJavaAsync((e) => {\n  Chat.log(`${e.oldName} is now known as ${e.newName}`);\n});\n```\n\n## Async example\n\n```js\nJsMacros.on(\"NameChange\", JavaWrapper.methodToJavaAsync((e) => {\n  const oldName = e.oldName;\n  const newName = e.newName;\n\n  Chat.log(`&6Name Change Detected:`);\n  Chat.log(`&7Old name: &f${oldName}`);\n  Chat.log(`&7New name: &f${newName}`);\n\n  // Check if this is the local player\n  const playerName = Player.getPlayer().getName();\n  if (newName === playerName) {\n    Chat.log(`&aYour name has changed from ${oldName} to ${newName}!`);\n    Chat.actionbar(`&aYou are now known as ${newName}`);\n  } else {\n    Chat.log(`&ePlayer ${oldName} is now known as ${newName}`);\n    Chat.actionbar(`&e${oldName} → ${newName}`);\n  }\n\n  // Log significant name changes\n  if (oldName.toLowerCase() !== newName.toLowerCase()) {\n    Chat.log(`&dSignificant name change detected!`);\n\n    // Could be a nickname system or mod-related change\n    Chat.log(`&7This might be a nickname or rank change.`);\n  }\n\n  // Check for rank prefixes\n  const rankFromOld = extractRank(oldName);\n  const rankFromNew = extractRank(newName);\n\n  if (rankFromOld !== rankFromNew) {\n    Chat.log(`&cRank change detected!`);\n    Chat.log(`&7Old rank: &f${rankFromOld || 'None'}`);\n    Chat.log(`&7New rank: &f${rankFromNew || 'None'}`);\n  }\n\n  // Update player tracking systems\n  // updatePlayerAlias(oldName, newName);\n\n  // Log for moderation purposes\n  if (shouldLogNameChange(oldName, newName)) {\n    Chat.log(`&8[Log] Name change: ${oldName} → ${newName} at ${new Date().toLocaleString()}`);\n  }\n\n  // Check for suspicious name changes\n  if (isSuspiciousNameChange(oldName, newName)) {\n    Chat.log(`&c⚠ Suspicious name change detected!`);\n    Chat.log(`&cPlease verify this is legitimate.`);\n  }\n}));\n\nfunction extractRank(name) {\n  // Extract rank prefixes like [Admin], [VIP], etc.\n  const rankMatch = name.match(/^\\[([^\\]]+)\\]/);\n  return rankMatch ? rankMatch[1] : null;\n}\n\nfunction shouldLogNameChange(oldName, newName) {\n  // Log changes that might be important\n  return (\n    oldName.length !== newName.length ||\n    oldName.toLowerCase() !== newName.toLowerCase() ||\n    extractRank(oldName) !== extractRank(newName)\n  );\n}\n\nfunction isSuspiciousNameChange(oldName, newName) {\n  // Define what might be suspicious\n  const suspiciousPatterns = [\n    /\\d/, // Numbers in names\n    /admin/i, // Admin impersonation\n    /moderator/i, // Mod impersonation\n    /\\.{3,}/, // Multiple periods\n    /[A-Z]{5,}/ // Long uppercase sequences\n  ];\n\n  return suspiciousPatterns.some(pattern => pattern.test(newName));\n}\n```",
  "constructors": [],
  "methods": [
    {
      "name": "toString",
      "signature": "toString()",
      "returnType": "string",
      "description": "Returns a string representation of the event object.",
      "parameters": [],
      "static": false,
      "examples": []
    }
  ]
}
{
  "name": "EventPlayerJoin",
  "fullClassName": "EventPlayerJoin",
  "extends": null,
  "since": null,
  "description": "This event is fired when a player joins the server.",
  "overview": "## Behavior\n\n* Fires when any player joins the server (including yourself on some servers)\n- The `UUID` field contains the player's unique identifier\n- The `player` field provides access to player information\n- Not cancellable\n- Useful for welcome messages, player tracking, and moderation\n\n## Event payload\n\n| Field  | Type                    | Description                              |\n| ------ | ----------------------- | ---------------------------------------- |\n| UUID   | string                  | The UUID of the joining player           |\n| player | PlayerListEntryHelper   | Helper object for the joining player     |\n\n## Fields\n\n### event.UUID\nThe unique identifier for the joining player.\n**Type:** `string`\n**Notes**: This is the player's UUID in string format. This is more reliable than name for tracking players across name changes.\n\n### event.player\nA helper object for the joining player.\n**Type:** `PlayerListEntryHelper`\n**Notes**: This provides access to player information like name, game mode, ping, display name, and other server-side player data.\n\n## Minimal example\n\n```js\nJsMacros.on(\"PlayerJoin\", JavaWrapper.methodToJavaAsync((e) => {\n  Chat.log(`${e.player.getName()} joined the server!`);\n});\n```\n\n## Async example\n\n```js\nJsMacros.on(\"PlayerJoin\", JavaWrapper.methodToJavaAsync((e) => {\n  const player = e.player;\n  const playerName = player.getName();\n  const playerUUID = e.UUID;\n  const currentTime = new Date().toLocaleString();\n\n  Chat.log(`&aPlayer Joined: &f${playerName}`);\n  Chat.log(`&7UUID: &f${playerUUID.substring(0, 8)}...`);\n  Chat.log(`&7Time: &f${currentTime}`);\n\n  // Check if it's the local player\n  const localPlayerName = Player.getPlayer().getName();\n  if (playerName === localPlayerName) {\n    Chat.log(`&6Welcome back, ${playerName}!`);\n    Chat.actionbar(`&aYou have rejoined the server!`);\n  } else {\n    // Welcome other players\n    Chat.log(`&6Welcome to the server, ${playerName}!`);\n    Chat.actionbar(`&a${playerName} &7joined the server!`);\n\n    // Check if this player is on a friends list\n    if (isFriend(playerName)) {\n      Chat.log(`&bYour friend ${playerName} is online!`);\n      Chat.actionbar(`&bðŸ‘‹ ${playerName} is here!`);\n    }\n\n    // Check if this player is on an ignore/block list\n    if (isIgnored(playerName)) {\n      Chat.log(`&cIgnored player ${playerName} joined the server.`);\n      // Could mute their join messages or handle differently\n    }\n\n    // Check for staff members\n    if (isStaff(playerName)) {\n      Chat.log(`&eStaff member ${playerName} is online!`);\n      Chat.actionbar(`&eðŸ›¡ï¸ Staff online: ${playerName}`);\n    }\n  }\n\n  // Get player stats and information\n  const gameMode = player.getGameMode();\n  const ping = player.getPing();\n\n  Chat.log(`&7Game Mode: &f${gameMode}`);\n  Chat.log(`&7Ping: &f${ping}ms`);\n\n  if (ping > 200) {\n    Chat.log(`&6${playerName} &7has high ping (&c${ping}ms&7)`);\n  }\n\n  // Check player rank/permissions if available\n  const displayName = player.getDisplayName();\n  if (displayName && displayName !== playerName) {\n    Chat.log(`&7Display Name: &f${displayName}`);\n    const rank = extractRank(displayName);\n    if (rank) {\n      Chat.log(`&7Rank: &f${rank}`);\n    }\n  }\n\n  // Track player statistics\n  updatePlayerStats(playerName, playerUUID, \"join\");\n\n  // Log for moderation purposes\n  if (shouldLogJoin(playerName)) {\n    Chat.log(`&8[Join Log] ${playerName} (${playerUUID.substring(0, 8)}...) joined at ${currentTime}`);\n  }\n\n  // Check for suspicious players\n  if (isSuspiciousPlayer(playerName)) {\n    Chat.log(`&câš  Suspicious player detected: ${playerName}`);\n    Chat.log(`&cUUID: ${playerUUID}`);\n    // Additional monitoring could be added here\n  }\n\n  // Send welcome message (if enabled)\n  if (shouldSendWelcome(playerName)) {\n    Chat.log(`&eWelcome ${playerName} to the server! Enjoy your stay! ðŸŽ‰`);\n  }\n}));\n\nfunction isFriend(playerName) {\n  // Check against friends list\n  const friends = [\"Friend1\", \"Friend2\", \"Friend3\"]; // Replace with actual friends list\n  return friends.includes(playerName);\n}\n\nfunction isIgnored(playerName) {\n  // Check against ignored players list\n  const ignored = [\"AnnoyingPlayer1\", \"Spammer123\"]; // Replace with actual ignore list\n  return ignored.includes(playerName);\n}\n\nfunction isStaff(playerName) {\n  // Check against staff list\n  const staff = [\"Admin\", \"Moderator\", \"Helper\"]; // Replace with actual staff list\n  return staff.some(staffMember => playerName.toLowerCase().includes(staffMember.toLowerCase()));\n}\n\nfunction extractRank(displayName) {\n  // Extract rank from display name like [Admin] PlayerName\n  const rankMatch = displayName.match(/^\\[([^\\]]+)\\]/);\n  return rankMatch ? rankMatch[1] : null;\n}\n\nfunction updatePlayerStats(playerName, uuid, action) {\n  // This would update persistent player tracking\n  // Could store join/leave times, play sessions, etc.\n  // Example implementation would depend on your storage system\n}\n\nfunction shouldLogJoin(playerName) {\n  // Define criteria for when to log joins\n  return isStaff(playerName) || isSuspiciousPlayer(playerName);\n}\n\nfunction isSuspiciousPlayer(playerName) {\n  // Define suspicious patterns\n  const suspiciousPatterns = [\n    /\\d{3,}/, // Lots of numbers\n    /[^a-zA-Z0-9_]/, // Special characters\n    /admin/i, // Admin impersonation\n    /moderator/i, // Mod impersonation\n    /owner/i, // Owner impersonation\n  ];\n\n  return suspiciousPatterns.some(pattern => pattern.test(playerName));\n}\n\nfunction shouldSendWelcome(playerName) {\n  // Define when to send automatic welcome messages\n  return !isIgnored(playerName) && !isSuspiciousPlayer(playerName);\n}\n```",
  "constructors": [],
  "methods": [
    {
      "name": "toString",
      "signature": "event.toString()",
      "returnType": "string",
      "description": "Returns a string representation of the event object.",
      "parameters": [],
      "static": false,
      "examples": []
    }
  ]
}
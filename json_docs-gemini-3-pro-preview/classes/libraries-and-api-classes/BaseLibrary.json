{
  "name": "BaseLibrary",
  "fullClassName": "xyz.wagyourtail.jsmacros.core.library.BaseLibrary",
  "extends": "Object",
  "description": "The abstract base class for all JsMacros library implementations. This class serves as the foundation for the entire library system in JsMacros, providing a common inheritance hierarchy for all global API libraries that are exposed to scripts.\n\nEvery library accessible from JsMacros scripts (such as `Chat`, `Player`, `World`, `Hud`, etc.) extends this base class. While BaseLibrary itself contains no methods or fields, it establishes the framework for library registration, instantiation, and management within the JsMacros runtime.",
  "overview": "## Library System Architecture\n\n### Inheritance Hierarchy\nAll JsMacros libraries follow this inheritance pattern:\n\n```\nBaseLibrary (abstract)\n├── Standard Libraries (single instance)\n│   ├── FChat → extends BaseLibrary\n│   ├── FPlayer → extends BaseLibrary\n│   ├── FWorld → extends BaseLibrary\n│   └── ... other global libraries\n├── Per-Execution Libraries\n│   └── PerExecLibrary → extends BaseLibrary\n│       └── Libraries that get new instances per script execution\n└── Per-Language Libraries\n    └── PerLanguageLibrary → extends BaseLibrary\n        └── Libraries that get instances per scripting language\n```\n\n### Library Types\n\n#### Standard Libraries\nLibraries that exist as single instances shared across all scripts:\n- `Chat` - Chat interaction and messaging\n- `Player` - Player information and controls\n- `World` - World interaction and queries\n- `Hud` - Heads-up display and rendering\n- `Time` - Time and scheduling functions\n- `Utils` - Utility functions\n- `KeyBind` - Keyboard input handling\n- `JavaUtils` - Java reflection and integration\n- `Reflection` - Advanced reflection capabilities\n- `GlobalVars` - Global variable storage\n- `Request` - HTTP request functionality\n- `FS` - File system operations\n\n#### Per-Execution Libraries\nLibraries that get fresh instances for each script execution:\n- Context-specific libraries that maintain script state\n- Libraries that need access to the current script context\n- Libraries that should not share state between script runs\n\n#### Per-Language Libraries\nLibraries that have instances per scripting language:\n- Language-specific functionality\n- Libraries that need to know which scripting language is being used\n\n## Library Registration and Discovery\n\n### @Library Annotation\nAll library implementations must be annotated with `@Library`:\n\n```java\n@Library(\"Chat\")\npublic class FChat extends BaseLibrary {\n    // Library implementation\n}\n```\n\nThe `@Library` annotation specifies:\n- **value**: The name of the library as exposed to scripts\n- **languages**: Array of supported language classes (optional)\n\n### Library Registry\nThe `LibraryRegistry` class manages all library instances:\n- Discovers libraries via the `@Library` annotation\n- Instantiates appropriate library types\n- Provides libraries to scripts based on language and context\n- Manages library lifecycle\n\n### Library Instantiation Process\n1. **Discovery**: Scan for classes with `@Library` annotation\n2. **Classification**: Determine library type (standard, per-exec, per-language)\n3. **Instantiation**: Create instances based on library type\n4. **Registration**: Add to registry and make available to scripts\n5. **Exposure**: Inject into script global scope\n\n## Script Access Patterns\n\n### Global Variable Access\nLibraries are automatically exposed as global variables in scripts:\n```js\n// These all extend BaseLibrary\nChat.log(\"Hello World\");        // FChat instance\nconst player = Player.getPlayer(); // FPlayer instance\nWorld.getBlock(0, 64, 0);      // FWorld instance\nHud.registerDraw3D(my3D);       // FHud instance\n```\n\n### Library Creation Guidelines\n\nWhen creating custom libraries that extend BaseLibrary:\n\n```java\n@Library(\"MyCustomLib\")\npublic class FMyCustomLib extends BaseLibrary {\n\n    // Required: No-args constructor for standard libraries\n    public FMyCustomLib() {\n        // Initialization code\n    }\n\n    // Your library methods\n    public void myMethod() {\n        // Implementation\n    }\n}\n```\n\nFor per-execution libraries:\n```java\n@Library(\"MyContextLib\")\npublic class FMyContextLib extends PerExecLibrary {\n\n    // Required: Constructor with BaseScriptContext\n    public FMyContextLib(BaseScriptContext<?> context) {\n        super(context);\n        // Context-aware initialization\n    }\n\n    // Your library methods with access to script context\n    public void getContextInfo() {\n        Chat.log(\"Current context: \" + ctx.getTriggerName());\n    }\n}\n```\n\n### Library Lifecycle\n\n#### Standard Libraries\n- **Created**: Once during JsMacros initialization\n- **Lifetime**: Entire application runtime\n- **Sharing**: Shared across all scripts and contexts\n- **State**: Global state management required\n\n#### Per-Execution Libraries\n- **Created**: New instance for each script execution\n- **Lifetime**: Duration of script execution\n- **Sharing**: Not shared between script runs\n- **State**: Isolated per execution\n\n#### Per-Language Libraries\n- **Created**: One instance per supported language\n- **Lifetime**: Language runtime lifetime\n- **Sharing**: Shared among scripts using same language\n- **State**: Language-specific state management\n\n## Best Practices\n\n### For Library Developers\n\n1. **State Management**: Consider whether your library needs global, per-execution, or per-language state\n2. **Thread Safety**: Libraries may be accessed from multiple threads\n3. **Error Handling**: Provide clear error messages and proper exception handling\n4. **Documentation**: Document all public methods with JSDoc-style comments\n5. **Dependencies**: Avoid circular dependencies between libraries\n\n### For Script Writers\n\n1. **Global State**: Be aware that most libraries maintain global state\n2. **Thread Safety**: Library operations may not be thread-safe\n3. **Resource Management**: Clean up resources created through libraries\n4. **Error Handling**: Handle exceptions that library methods may throw\n\n## Integration with Script Engine\n\nBaseLibrary instances are automatically injected into script global scope by the language runtime. The process:\n\n1. **Library Discovery**: Runtime scans for `@Library` annotations\n2. **Instance Creation**: Creates appropriate library instances\n3. **Global Injection**: Exposes libraries as global variables\n4. **Method Binding**: Makes library methods callable from scripts\n\nThis architecture allows JsMacros to provide a consistent set of global APIs across different scripting languages while maintaining proper encapsulation and lifecycle management.\n\n---\n\n## Notes\n\n- **Abstract Class**: BaseLibrary cannot be instantiated directly\n- **No Methods**: This class serves as a marker and base for inheritance\n- **Runtime Only**: BaseLibrary functionality is entirely handled by the JsMacros runtime\n- **Automatic Registration**: Library classes are discovered and registered automatically\n- **Version Compatible**: Library system works across all JsMacros versions\n\n## Related Classes\n\n- `LibraryRegistry` - Manages library discovery and instantiation\n- `@Library` - Annotation for marking library implementations\n- `PerExecLibrary` - Base for per-execution libraries\n- `PerLanguageLibrary` - Base for per-language libraries\n- `BaseScriptContext` - Script execution context\n- `BaseLanguage` - Scripting language interface",
  "constructors": [],
  "methods": []
}
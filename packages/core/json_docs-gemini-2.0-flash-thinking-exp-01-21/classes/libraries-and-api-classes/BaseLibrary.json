{
  "name": "BaseLibrary",
  "fullClassName": "xyz.wagyourtail.jsmacros.core.library.BaseLibrary",
  "extends": "Object",
  "description": "The abstract base class for all JsMacros library implementations. This class serves as the foundation for the entire library system in JsMacros, providing a common inheritance hierarchy for all global API libraries that are exposed to scripts.",
  "overview": "Every library accessible from JsMacros scripts (such as `Chat`, `Player`, `World`, `Hud`, etc.) extends this base class. While BaseLibrary itself contains no methods or fields, it establishes the framework for library registration, instantiation, and management within the JsMacros runtime.\n\nLibrary System Architecture\nInheritance Hierarchy: All JsMacros libraries follow this inheritance pattern: BaseLibrary (abstract) -> Standard Libraries (single instance) like FChat, FPlayer, FWorld; Per-Execution Libraries (new instances per script execution) like PerExecLibrary; and Per-Language Libraries (instances per scripting language) like PerLanguageLibrary.\nLibrary Types:\nStandard Libraries: Libraries that exist as single instances shared across all scripts, including `Chat` (Chat interaction and messaging), `Player` (Player information and controls), `World` (World interaction and queries), `Hud` (Heads-up display and rendering), `Time` (Time and scheduling functions), `Utils` (Utility functions), `KeyBind` (Keyboard input handling), `JavaUtils` (Java reflection and integration), `Reflection` (Advanced reflection capabilities), `GlobalVars` (Global variable storage), `Request` (HTTP request functionality), `FS` (File system operations).\nPer-Execution Libraries: Libraries that get fresh instances for each script execution, useful for context-specific libraries that maintain script state, need access to the current script context, and should not share state between script runs.\nPer-Language Libraries: Libraries that have instances per scripting language, for language-specific functionality or when needing to know which scripting language is being used.\n\nLibrary Registration and Discovery\n@Library Annotation: All library implementations must be annotated with `@Library`. The `@Library` annotation specifies its `value` (the name of the library as exposed to scripts) and optional `languages` (array of supported language classes). For example: `@Library(\"Chat\") public class FChat extends BaseLibrary { // Library implementation }`.\nLibrary Registry: The `LibraryRegistry` class manages all library instances. It discovers libraries via the `@Library` annotation, instantiates appropriate library types, provides libraries to scripts based on language and context, and manages library lifecycle.\nLibrary Instantiation Process: This process includes: 1. Discovery (scan for classes with `@Library` annotation), 2. Classification (determine library type), 3. Instantiation (create instances based on library type), 4. Registration (add to registry and make available to scripts), 5. Exposure (inject into script global scope).\n\nScript Access Patterns\nGlobal Variable Access: Libraries are automatically exposed as global variables in scripts. For example:\n`Chat.log(\"Hello World\");`\n`const player = Player.getPlayer();`\n`World.getBlock(0, 64, 0);`\n`Hud.registerDraw3D(my3D);`\n\nLibrary Creation Guidelines\nWhen creating custom libraries that extend BaseLibrary:\nFor standard libraries, a no-args constructor is required. For example:\n`@Library(\"MyCustomLib\") public class FMyCustomLib extends BaseLibrary { public FMyCustomLib() { // Initialization code } public void myMethod() { // Implementation } }`\nFor per-execution libraries, extend `PerExecLibrary` and provide a constructor with `BaseScriptContext<?> context`. For example:\n`@Library(\"MyContextLib\") public class FMyContextLib extends PerExecLibrary { public FMyContextLib(BaseScriptContext<?> context) { super(context); // Context-aware initialization } public void getContextInfo() { Chat.log(\"Current context: \" + ctx.getTriggerName()); } }`\n\nLibrary Lifecycle\nStandard Libraries: Created once during JsMacros initialization, lifetime is the entire application runtime, shared across all scripts and contexts, requiring global state management.\nPer-Execution Libraries: New instance for each script execution, lifetime is the duration of script execution, not shared between script runs, state isolated per execution.\nPer-Language Libraries: One instance per supported language, lifetime is language runtime lifetime, shared among scripts using same language, requiring language-specific state management.\n\nBest Practices\nFor Library Developers: 1. State Management (consider global, per-execution, or per-language state), 2. Thread Safety (libraries may be accessed from multiple threads), 3. Error Handling (provide clear error messages and proper exception handling), 4. Documentation (document all public methods with JSDoc-style comments), 5. Dependencies (avoid circular dependencies between libraries).\nFor Script Writers: 1. Global State (be aware that most libraries maintain global state), 2. Thread Safety (library operations may not be thread-safe), 3. Resource Management (clean up resources created through libraries), 4. Error Handling (handle exceptions that library methods may throw).\n\nIntegration with Script Engine\nBaseLibrary instances are automatically injected into script global scope by the language runtime. The process involves: 1. Library Discovery, 2. Instance Creation, 3. Global Injection, 4. Method Binding. This architecture allows JsMacros to provide a consistent set of global APIs across different scripting languages while maintaining proper encapsulation and lifecycle management.\n\nNotes\nAbstract Class: BaseLibrary cannot be instantiated directly.\nNo Methods: This class serves as a marker and base for inheritance.\nRuntime Only: BaseLibrary functionality is entirely handled by the JsMacros runtime.\nAutomatic Registration: Library classes are discovered and registered automatically.\nVersion Compatible: Library system works across all JsMacros versions.",
  "constructors": [],
  "methods": []
}
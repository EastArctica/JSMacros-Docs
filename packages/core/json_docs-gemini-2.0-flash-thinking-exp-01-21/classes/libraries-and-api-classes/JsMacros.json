{
  "name": "JsMacros",
  "fullClassName": "xyz.wagyourtail.jsmacros.core.library.impl.FJsMacros",
  "extends": null,
  "since": null,
  "description": "Functions that interact directly with JsMacros or Events. This is the main entry point library that provides access to JsMacros core functionality including script execution, event management, and configuration access.",
  "overview": "The JsMacros library is available to scripts via the global `JsMacros` variable and provides essential functions for running scripts, managing events, and accessing core JsMacros services.",
  "constructors": [],
  "methods": [
    {
      "name": "getProfile",
      "signature": "JsMacros.getProfile()",
      "returnType": "BaseProfile",
      "description": "Returns the JsMacros profile class that manages user settings and script configurations.",
      "parameters": [],
      "static": true,
      "examples": [
        "const profile = JsMacros.getProfile();\nChat.log(`Current profile: ${profile.getName()}`);"
      ]
    },
    {
      "name": "getConfig",
      "signature": "JsMacros.getConfig()",
      "returnType": "ConfigManager",
      "description": "Returns the JsMacros configuration management class that handles all configuration settings.",
      "parameters": [],
      "static": true,
      "examples": [
        "const config = JsMacros.getConfig();\nconst options = config.getOptions();\nChat.log(`Auto-reload services: ${options.serviceAutoReload}`);"
      ]
    },
    {
      "name": "getServiceManager",
      "signature": "JsMacros.getServiceManager()",
      "returnType": "ServiceManager",
      "description": "Returns the service manager for managing background scripts (services) that run continuously. Since: `1.6.3`. Notes: Services are background scripts designed to run full-time and are mainly noticed by their side effects.",
      "parameters": [],
      "static": true,
      "examples": [
        "const serviceManager = JsMacros.getServiceManager();\nconst services = serviceManager.getServices();\nfor (const service of services) {\n    Chat.log(`Service running: ${service.getFile().getName()}`);\n}"
      ]
    },
    {
      "name": "getOpenContexts",
      "signature": "JsMacros.getOpenContexts()",
      "returnType": "List<BaseScriptContext>",
      "description": "Returns a list of non-garbage-collected ScriptContext instances that are currently running. Since: `1.4.0`.",
      "parameters": [],
      "static": true,
      "examples": [
        "const contexts = JsMacros.getOpenContexts();\nChat.log(`Currently open script contexts: ${contexts.length}`);\nfor (const ctx of contexts) {\n    Chat.log(`Context: ${ctx.getScriptName()}`);\n}"
      ]
    },
    {
      "name": "runScript",
      "signature": "JsMacros.runScript(file: string)\nJsMacros.runScript(file: string, fakeEvent: BaseEvent)\nJsMacros.runScript(file: string, fakeEvent: BaseEvent, callback: MethodWrapper)\nJsMacros.runScript(language: string, script: string)\nJsMacros.runScript(language: string, script: string, callback: MethodWrapper)\nJsMacros.runScript(language: string, script: string, file: string, callback: MethodWrapper)\nJsMacros.runScript(language: string, script: string, file: string, event: BaseEvent, callback: MethodWrapper)",
      "returnType": "EventContainer",
      "description": "Runs a script file or string with optional parameters and callback. Notes: File paths are relative to the macro folder. Use `createCustomEvent()` to create events for script communication. Callbacks receive errors as the first parameter.",
      "parameters": [
        {
          "name": "file",
          "type": "`string`",
          "description": "Path to the script file relative to the macro folder (when running a file) or optional file name for error reporting (when running a string script)."
        },
        {
          "name": "language",
          "type": "`string`",
          "description": "Script language (e.g., \"javascript\", \"python\")"
        },
        {
          "name": "script",
          "type": "`string`",
          "description": "Script code to execute"
        },
        {
          "name": "fakeEvent",
          "type": "`BaseEvent`",
          "description": "Optional event to pass to the script"
        },
        {
          "name": "event",
          "type": "`BaseEvent`",
          "description": "Optional event context"
        },
        {
          "name": "callback",
          "type": "`MethodWrapper`",
          "description": "Optional callback for completion/error handling"
        }
      ],
      "static": true,
      "examples": [
        "// Run a script file\nJsMacros.runScript(\"examples/hello.js\");",
        "// Run with a custom event\nconst customEvent = JsMacros.createCustomEvent(\"MyEvent\");\nJsMacros.runScript(\"examples/custom_handler.js\", customEvent);",
        "// Run with callback\nJsMacros.runScript(\"examples/async_task.js\", JavaWrapper.methodToJava((error) => {\n    if (error) {\n        Chat.log(`Script error: ${error.message}`);\n    } else {\n        Chat.log(\"Script completed successfully!\");\n    }\n}));",
        "// Run a string as script\nJsMacros.runScript(\"javascript\", \"Chat.log('Hello from dynamic script!');\");"
      ]
    },
    {
      "name": "wrapScriptRun",
      "signature": "JsMacros.wrapScriptRun(file: string)\nJsMacros.wrapScriptRun(language: string, script: string)\nJsMacros.wrapScriptRun(language: string, script: string, file: string)",
      "returnType": "MethodWrapper",
      "description": "Wraps a script execution as a MethodWrapper that can be called multiple times. Since: `1.7.0`.",
      "parameters": [
        {
          "name": "file",
          "type": "`string`",
          "description": "Path to script file or Optional file name for error reporting"
        },
        {
          "name": "language",
          "type": "`string`",
          "description": "Script language"
        },
        {
          "name": "script",
          "type": "`string`",
          "description": "Script code to wrap"
        }
      ],
      "static": true,
      "examples": [
        "// Wrap a script as a method\nconst wrappedScript = JsMacros.wrapScriptRun(\"utils/calculator.js\");",
        "// Call the wrapped script with an event\nconst event = JsMacros.createCustomEvent(\"Calculate\");\nwrappedScript.accept(event);",
        "// Wrap a string script with file reference\nconst dynamicScript = JsMacros.wrapScriptRun(\"javascript\", \"return args[0] * args[1];\", \"multiply.js\");"
      ]
    },
    {
      "name": "wrapScriptRunAsync",
      "signature": "JsMacros.wrapScriptRunAsync(file: string)\nJsMacros.wrapScriptRunAsync(language: string, script: string)\nJsMacros.JsMacros.wrapScriptRunAsync(language: string, script: string, file: string)",
      "returnType": "MethodWrapper",
      "description": "Wraps a script execution as an asynchronous MethodWrapper for non-blocking execution. Since: `1.7.0`.",
      "parameters": [
        {
          "name": "file",
          "type": "`string`",
          "description": "Path to script file or Optional file name for error reporting"
        },
        {
          "name": "language",
          "type": "`string`",
          "description": "Script language"
        },
        {
          "name": "script",
          "type": "`string`",
          "description": "Script code to wrap"
        }
      ],
      "static": true,
      "examples": [
        "// Create an async wrapper for frequently called script\nconst asyncWrapper = JsMacros.wrapScriptRunAsync(\"utils/performance_monitor.js\");",
        "// Use in event listener without blocking\nconst event = JsMacros.createCustomEvent(\"PerformanceCheck\");\nasyncWrapper.accept(event);"
      ]
    },
    {
      "name": "on",
      "signature": "JsMacros.on(event: string, callback: MethodWrapper)\nJsMacros.on(event: string, joined: boolean, callback: MethodWrapper)\nJsMacros.on(event: string, filterer: EventFilterer, callback: MethodWrapper)\nJsMacros.on(event: string, filterer: EventFilterer, joined: boolean, callback: MethodWrapper)",
      "returnType": "IEventListener",
      "description": "Creates a persistent event listener that can be more efficient than running script files when used properly. Since: `1.2.7`. Notes: Use `createEventFilterer()` for performance optimization with frequent events. Joined events wait for script completion before continuing. Use the listener's `off()` method to remove the listener.",
      "parameters": [
        {
          "name": "event",
          "type": "`string`",
          "description": "Event name to listen for"
        },
        {
          "name": "joined",
          "type": "`boolean`",
          "description": "Whether the event should be joined (wait for completion)"
        },
        {
          "name": "filterer",
          "type": "`EventFilterer`",
          "description": "Optional filter to limit events"
        },
        {
          "name": "callback",
          "type": "`MethodWrapper`",
          "description": "Function to call when event triggers"
        }
      ],
      "static": true,
      "examples": [
        "// Basic event listener\nJsMacros.on(\"RecvMessage\", JavaWrapper.methodToJava((event) => {\n    Chat.log(`Received message: ${event.message}`);\n}));",
        "// Event listener with join flag\nJsMacros.on(\"Key\", true, JavaWrapper.methodToJava((event) => {\n    Chat.log(`Key pressed: ${event.key}`);\n}));",
        "// Event listener with filterer\nconst movementFilter = JsMacros.createEventFilterer(\"SendPacket\").setType(\"PlayerMoveC2SPacket\");\nJsMacros.on(\"SendPacket\", movementFilter, JavaWrapper.methodToJava((event) => {\n    Chat.log(\"Movement packet detected\");\n}));",
        "// Full parameters\nconst filter = JsMacros.createEventFilterer(\"SendPacket\").setType(\"ChatMessageC2SPacket\");\nJsMacros.on(\"SendPacket\", filter, true, JavaWrapper.methodToJava((event) => {\n    Chat.log(`Chat packet: ${event.type}`);\n}));"
      ]
    },
    {
      "name": "once",
      "signature": "JsMacros.once(event: string, callback: MethodWrapper)\nJsMacros.once(event: string, joined: boolean, callback: MethodWrapper)",
      "returnType": "IEventListener",
      "description": "Creates a single-run event listener that automatically removes itself after triggering once. Since: `1.2.7`.",
      "parameters": [
        {
          "name": "event",
          "type": "`string`",
          "description": "Event name to listen for"
        },
        {
          "name": "joined",
          "type": "`boolean`",
          "description": "Whether the event should be joined (wait for completion)"
        },
        {
          "name": "callback",
          "type": "`MethodWrapper`",
          "description": "Function to call when event triggers"
        }
      ],
      "static": true,
      "examples": [
        "// Single-use event listener\nJsMacros.once(\"ServiceStop\", JavaWrapper.methodToJava((event) => {\n    Chat.log(`Service stopped: ${event.serviceName}`);\n}));",
        "// Single-use with join\nJsMacros.once(\"GameLoad\", true, JavaWrapper.methodToJava((event) => {\n    Chat.log(\"Game fully loaded!\");\n    // Do initialization tasks\n}));"
      ]
    },
    {
      "name": "off",
      "signature": "JsMacros.off(listener: IEventListener)\nJsMacros.off(event: string, listener: IEventListener)",
      "returnType": "boolean",
      "description": "Removes an event listener from all events or a specific event. Since: `1.2.3`.",
      "parameters": [
        {
          "name": "listener",
          "type": "`IEventListener`",
          "description": "The listener to remove"
        },
        {
          "name": "event",
          "type": "`string`",
          "description": "Specific event to remove from (optional)"
        }
      ],
      "static": true,
      "examples": [
        "// Remove specific listener\nconst listener = JsMacros.on(\"Key\", JavaWrapper.methodToJava((event) => {\n    Chat.log(\"Key pressed!\");\n}));\nJsMacros.off(listener);",
        "// Remove from specific event\nJsMacros.off(\"Key\", listener);"
      ]
    },
    {
      "name": "disableAllListeners",
      "signature": "JsMacros.disableAllListeners(event: string)\nJsMacros.disableAllListeners()",
      "returnType": "void",
      "description": "Disables all listeners for a specific event or globally, including JsMacros' own internal listeners. Since: `1.8.4`. Notes: This is a powerful function that will disable all event listeners, including internal JsMacros listeners. Use with caution.",
      "parameters": [
        {
          "name": "event",
          "type": "`string`",
          "description": "Specific event to remove all listeners from (optional)"
        }
      ],
      "static": true,
      "examples": [
        "// Disable all listeners for specific event\nJsMacros.disableAllListeners(\"RecvMessage\");",
        "// Disable ALL listeners globally\nJsMacros.disableAllListeners();"
      ]
    },
    {
      "name": "disableScriptListeners",
      "signature": "JsMacros.disableScriptListeners(event: string)\nJsMacros.disableScriptListeners()",
      "returnType": "void",
      "description": "Disables only user-created event listeners (from `on()`, `once()`, `waitForEvent()`), preserving internal JsMacros listeners. Since: `1.8.4`.",
      "parameters": [
        {
          "name": "event",
          "type": "`string`",
          "description": "Specific event to remove script listeners from (optional)"
        }
      ],
      "static": true,
      "examples": [
        "// Disable only script listeners for specific event\nJsMacros.disableScriptListeners(\"Key\");",
        "// Disable all script listeners globally\nJsMacros.disableScriptListeners();"
      ]
    },
    {
      "name": "waitForEvent",
      "signature": "JsMacros.waitForEvent(event: string)\nJsMacros.waitForEvent(event: string, join: boolean)\nJsMacros.waitForEvent(event: string, filter: MethodWrapper)\nJsMacros.waitForEvent(event: string, join: boolean, filter: MethodWrapper)\nJsMacros.waitForEvent(event: string, filter: MethodWrapper, runBeforeWaiting: MethodWrapper)\nJsMacros.waitForEvent(event: string, join: boolean, filter: MethodWrapper, runBeforeWaiting: MethodWrapper)",
      "returnType": "EventAndContext<E>",
      "description": "Waits for a specific event to occur, optionally filtering events and providing early exit functionality. Throws: `InterruptedException` - If the waiting thread is interrupted. Since: `1.5.0`. Notes: Use `context.releaseLock()` to exit early from joined events. Filter function should return true when the desired condition is met. Use `runBeforeWaiting` for thread safety when deferring tasks.",
      "parameters": [
        {
          "name": "event",
          "type": "`string`",
          "description": "Event name to wait for"
        },
        {
          "name": "join",
          "type": "`boolean`",
          "description": "Whether to join the event (default: false)"
        },
        {
          "name": "filter",
          "type": "`MethodWrapper`",
          "description": "Optional filter function, returns true when condition met"
        },
        {
          "name": "runBeforeWaiting",
          "type": "`MethodWrapper`",
          "description": "Optional function to run before waiting for thread safety"
        }
      ],
      "static": true,
      "examples": [
        "// Basic wait for event\nconst result = JsMacros.waitForEvent(\"RecvMessage\");\nChat.log(`Waited for message: ${result.event.message}`);",
        "// Wait with filter\nconst chatEvent = JsMacros.waitForEvent(\"RecvMessage\", JavaWrapper.methodToJava((event) => {\n    return event.message.includes(\"important\");\n}));\nChat.log(`Important message: ${chatEvent.event.message}`);",
        "// Wait with join flag\nconst joinedResult = JsMacros.waitForEvent(\"GameLoad\", true);\n// Can use joinedResult.context.releaseLock() to exit early if needed",
        "// Wait with runBefore callback\nconst timedResult = JsMacros.waitForEvent(\"Tick\",\n    JavaWrapper.methodToJava((event) => false), // filter to wait until condition met\n    JavaWrapper.methodToJava(() => {\n        Chat.log(\"Starting to wait for specific tick...\");\n    })\n);"
      ]
    },
    {
      "name": "listeners",
      "signature": "JsMacros.listeners(event: string)",
      "returnType": "List<IEventListener>",
      "description": "Returns a list of script-added listeners for a specific event. Since: `1.2.3`.",
      "parameters": [
        {
          "name": "event",
          "type": "`string`",
          "description": "Event name to get listeners for"
        }
      ],
      "static": true,
      "examples": [
        "// Get all script listeners for an event\nconst keyListeners = JsMacros.listeners(\"Key\");\nChat.log(`Key listeners: ${keyListeners.length}`);\nfor (const listener of keyListeners) {\n    Chat.log(`Listener: ${listener.toString()}`);\n}"
      ]
    },
    {
      "name": "createEventFilterer",
      "signature": "JsMacros.createEventFilterer(event: string)",
      "returnType": "EventFilterer",
      "description": "Creates an event filterer to reduce lag when listening to frequently triggered events. Since: `1.9.1`. Notes: Filterers improve performance by filtering events before they reach script handlers. Each event type has its own filterer class with specific filtering options. Throws error if event doesn't support filtering.",
      "parameters": [
        {
          "name": "event",
          "type": "`string`",
          "description": "Event name to create filterer for"
        }
      ],
      "static": true,
      "examples": [
        "// Create filterer for packet events\nconst packetFilter = JsMacros.createEventFilterer(\"SendPacket\");\npacketFilter.setType(\"PlayerMoveC2SPacket\");",
        "// Create filterer for different event types\nconst keyFilter = JsMacros.createEventFilterer(\"Key\");\nkeyFilter.setKeys(\"key.keyboard.k\"); // Only K key",
        "// Use with event listener\nJsMacros.on(\"SendPacket\", packetFilter, JavaWrapper.methodToJava((event) => {\n    Chat.log(\"Movement packet detected!\");\n}));"
      ]
    },
    {
      "name": "createComposedEventFilterer",
      "signature": "JsMacros.createComposedEventFilterer(initial: EventFilterer)",
      "returnType": "FiltererComposed",
      "description": "Creates a composed event filterer that combines multiple filterers with AND/OR logic. Since: `1.9.1`.",
      "parameters": [
        {
          "name": "initial",
          "type": "`EventFilterer`",
          "description": "Initial filterer to compose with"
        }
      ],
      "static": true,
      "examples": [
        "const movementFilter = JsMacros.createEventFilterer(\"SendPacket\").setType(\"PlayerMoveC2SPacket\");\nconst chatFilter = JsMacros.createEventFilterer(\"SendPacket\").setType(\"ChatMessageC2SPacket\");",
        "// Create OR filter (movement OR chat)\nconst orFilter = JsMacros.createComposedEventFilterer(movementFilter)\n    .or(chatFilter);",
        "// Create AND filter (movement AND specific condition)\nconst andFilter = JsMacros.createComposedEventFilterer(movementFilter)\n    .and(JavaWrapper.methodToJava((event) => {\n        return event.someCondition === true;\n    }));",
        "JsMacros.on(\"SendPacket\", orFilter, JavaWrapper.methodToJava((event) => {\n    Chat.log(\"Movement or chat packet detected\");\n}));"
      ]
    },
    {
      "name": "createModulusEventFilterer",
      "signature": "JsMacros.createModulusEventFilterer(quotient: int)",
      "returnType": "FiltererModulus",
      "description": "Creates a modulus event filterer that only lets every nth event pass through. Since: `1.9.1`.",
      "parameters": [
        {
          "name": "quotient",
          "type": "`int`",
          "description": "Process every nth event (e.g., 10 = every 10th event)"
        }
      ],
      "static": true,
      "examples": [
        "// Only process every 10th tick event\nconst tenthTickFilter = JsMacros.createModulusEventFilterer(10);\nJsMacros.on(\"Tick\", tenthTickFilter, JavaWrapper.methodToJava((event) => {\n    Chat.log(`10th tick: ${event.tick}`);\n}));",
        "// Process every 100th packet\nconst packetFilter = JsMacros.createModulusEventFilterer(100);\nJsMacros.on(\"SendPacket\", packetFilter, JavaWrapper.methodToJava((event) => {\n    Chat.log(`100th packet: ${event.type}`);\n}));"
      ]
    },
    {
      "name": "invertEventFilterer",
      "signature": "JsMacros.invertEventFilterer(base: EventFilterer)",
      "returnType": "EventFilterer",
      "description": "Inverts a base filterer's result, making it match the opposite conditions. Since: `1.9.1`. Notes: Checks if the base is already inverted to avoid double-inverting.",
      "parameters": [
        {
          "name": "base",
          "type": "`EventFilterer`",
          "description": "Filterer to invert"
        }
      ],
      "static": true,
      "examples": [
        "const movementFilter = JsMacros.createEventFilterer(\"SendPacket\").setType(\"PlayerMoveC2SPacket\");",
        "// Create filter for everything EXCEPT movement packets\nconst nonMovementFilter = JsMacros.invertEventFilterer(movementFilter);",
        "JsMacros.on(\"SendPacket\", nonMovementFilter, JavaWrapper.methodToJava((event) => {\n    Chat.log(`Non-movement packet: ${event.type}`);\n}));"
      ]
    },
    {
      "name": "createCustomEvent",
      "signature": "JsMacros.createCustomEvent(eventName: string)",
      "returnType": "EventCustom",
      "description": "Creates a custom event object that can trigger custom events with optional GUI registration. Since: `1.2.8`. Notes: Use `registerEvent()` to make the event visible in the GUI. Custom events can have any data attached to them. Perfect for inter-script communication.",
      "parameters": [
        {
          "name": "eventName",
          "type": "`string`",
          "description": "Name of the custom event (should not conflict with existing events)"
        }
      ],
      "static": true,
      "examples": [
        "// Create a custom event\nconst myEvent = JsMacros.createCustomEvent(\"MyScriptEvent\");",
        "// Set custom data\nmyEvent.data = { message: \"Hello from custom event!\", value: 42 };",
        "// Register to make it visible in GUI\nmyEvent.registerEvent();",
        "// Trigger the event\nmyEvent.trigger();",
        "// Listen for the custom event\nJsMacros.on(\"MyScriptEvent\", JavaWrapper.methodToJava((event) => {\n    Chat.log(`Custom event received: ${event.data.message}`);\n    Chat.log(`Custom value: ${event.data.value}`);\n}));"
      ]
    },
    {
      "name": "assertEvent",
      "signature": "JsMacros.assertEvent(event: BaseEvent, type: string)",
      "returnType": "void",
      "description": "Asserts that an event is of the correct type for type safety and converts the event type in TypeScript. Throws: `AssertionError` - If event is null, wrong type, or improperly annotated. Since: `1.9.0`. Notes: Mainly useful for TypeScript users to get proper type inference. Helps catch event type mismatches during development. Event type names correspond to the values in `Event` annotations.",
      "parameters": [
        {
          "name": "event",
          "type": "`BaseEvent`",
          "description": "The event to assert"
        },
        {
          "name": "type",
          "type": "`string`",
          "description": "Expected event type name"
        }
      ],
      "static": true,
      "examples": [
        "// Type-safe event handling\nJsMacros.on(\"RecvMessage\", JavaWrapper.methodToJava((event) => {\n    // Assert this is a RecvMessage event for type safety\n    JsMacros.assertEvent(event, \"RecvMessage\");\n\n    // Now TypeScript/intellisense knows the specific event type\n    Chat.log(`Message from ${event.username}: ${event.message}`);\n}));",
        "// Will throw if event type is wrong\nJsMacros.on(\"Key\", JavaWrapper.methodToJava((event) => {\n    // This will throw an AssertionError because \"Key\" â‰  \"RecvMessage\"\n    JsMacros.assertEvent(event, \"RecvMessage\");\n}));"
      ]
    },
    {
      "name": "open",
      "signature": "JsMacros.open(path: string)",
      "returnType": "void",
      "description": "Opens a file with the default system program. Paths are relative to the script's folder. Throws: `IOException` - If file cannot be opened. Deprecated: Use the `Utils` library instead. Since: `1.1.8`.",
      "parameters": [
        {
          "name": "path",
          "type": "`string`",
          "description": "File path relative to script folder"
        }
      ],
      "static": true,
      "examples": [
        "// Deprecated - use Utils library instead\nJsMacros.open(\"config/settings.txt\");"
      ]
    },
    {
      "name": "openUrl",
      "signature": "JsMacros.openUrl(url: string)",
      "returnType": "void",
      "description": "Opens a URL with the default system web browser. Throws: `IOException` - If URL cannot be opened. Deprecated: Use the `Utils` library instead. Since: `1.6.0`.",
      "parameters": [
        {
          "name": "url",
          "type": "`string`",
          "description": "URL to open"
        }
      ],
      "static": true,
      "examples": [
        "// Deprecated - use Utils library instead\nJsMacros.openUrl(\"https://github.com/wagyourtail/JsMacros\");"
      ]
    }
  ]
}
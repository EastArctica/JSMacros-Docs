{
  "name": "DrownedEntityHelper",
  "fullClassName": "xyz.wagyourtail.jsmacros.client.api.helpers.world.entity.specialized.mob.DrownedEntityHelper",
  "extends": "ZombieEntityHelper<DrownedEntity>",
  "since": "JsMacros 1.8.4",
  "description": "Represents a drowned entity in the world. DrownedEntityHelper provides access to drowned-specific properties and behaviors, particularly their weapon holding capabilities and equipment states. Drowned are underwater zombie variants that spawn in oceans and rivers, wielding tridents or nautilus shells as their signature weapons.",
  "overview": "Drowned are formidable aquatic hostile mobs that result from zombies remaining underwater for extended periods. They have adapted to their underwater environment with enhanced swimming abilities and preferential spawning in water biomes. What makes drowned particularly dangerous is their arsenal - some wield powerful tridents that can be thrown at players from a distance, while others may carry nautilus shells used for conduit activation.\n\nThis class extends `ZombieEntityHelper` and inherits all methods for zombie behaviors, including conversion states, while adding drowned-specific functionality for weapon detection and equipment analysis. This makes it invaluable for assessing combat threats and understanding drowned behavior patterns.",
  "constructors": [
    {
      "signature": "DrownedEntityHelper()",
      "description": "DrownedEntityHelper instances are not typically created directly by scripters. Instead, they are obtained through:\n\n- Entity-related events (e.g., `EntityDeath`, `EntityInteract`, `EntitySpawn`, `ProjectileHit`)\n- World entity queries and type casting\n- Methods that return drowned entities\n- Type casting from EntityHelper using `as(\"minecraft:drowned\")` or appropriate casting methods",
      "parameters": []
    }
  ],
  "methods": [
    {
      "name": "hasTrident",
      "signature": "hasTrident()",
      "returnType": "boolean",
      "description": "Checks if the drowned entity is currently holding a trident in its main hand. This is crucial for threat assessment as trident-wielding drowned are significantly more dangerous.",
      "parameters": [],
      "static": false,
      "examples": [
        "// Comprehensive drowned combat analysis\nfunction analyzeDrownedCombatSituation() {\n    const player = Player.getPlayer();\n    if (!player) return;\n\n    const entities = World.getEntities();\n    const drownedEntities = entities.filter(entity => entity.is(\"minecraft:drowned\"));\n\n    if (drownedEntities.length === 0) {\n        Chat.log(\"No drowned detected in the area\");\n        return;\n    }\n\n    Chat.log(`=== DROWNED COMBAT ANALYSIS (${drownedEntities.length} detected) ===`);\n\n    const analysis = {\n        total: drownedEntities.length,\n        tridentWielders: 0,\n        shellCarriers: 0,\n        unarmed: 0,\n        inWater: 0,\n        onLand: 0,\n        withinRange: { near: 0, medium: 0, far: 0 },\n        threatLevel: { low: 0, medium: 0, high: 0, extreme: 0 }\n    };\n\n    drownedEntities.forEach(drownedEntity => {\n        const drowned = drownedEntity.as(\"minecraft:drowned\");\n        const distance = player.distanceTo(drownedEntity);\n        const pos = drownedEntity.getPos();\n\n        // Equipment analysis\n        if (drowned.hasTrident()) {\n            analysis.tridentWielders++;\n            analysis.threatLevel.high++;\n        } else if (drowned.hasNautilusShell()) {\n            analysis.shellCarriers++;\n            analysis.threatLevel.low++;\n        } else {\n            analysis.unarmed++;\n            analysis.threatLevel.medium++;\n        }\n\n        // Environmental analysis\n        if (drownedEntity.isInWater()) {\n            analysis.inWater++;\n        } else {\n            analysis.onLand++;\n        }\n\n        // Distance categories\n        if (distance <= 16) analysis.withinRange.near++;\n        else if (distance <= 32) analysis.withinRange.medium++;\n        else analysis.withinRange.far++;\n\n        // Detailed logging for nearby drowned\n        if (distance <= 32) {\n            let status = [];\n            if (drowned.hasTrident()) status.push(\"ðŸ”± Trident\");\n            if (drowned.hasNautilusShell()) status.push(\"ðŸš Shell\");\n            if (drownedEntity.isInWater()) status.push(\"ðŸ’§ Water\");\n            if (drownedEntity.isOnFire()) status.push(\"ðŸ”¥ Burning\");\n\n            Chat.log(`  Drowned at [${pos.x.toFixed(0)}, ${pos.y.toFixed(0)}, ${pos.z.toFixed(0)}]: ${distance.toFixed(1)}m - ${status.join(\", \") || \" unarmed\"}`);\n        }\n    });\n\n    // Summary analysis\n    Chat.log(\"\\n=== COMBAT SUMMARY ===\");\n    Chat.log(`Total drowned: ${analysis.total}`);\n    Chat.log(`Trident wielders: ${analysis.tridentWielders} (${((analysis.tridentWielders/analysis.total)*100).toFixed(1)}%)`);\n    Chat.log(`Shell carriers: ${analysis.shellCarriers} (${((analysis.shellCarriers/analysis.total)*100).toFixed(1)}%)`);\n    Chat.log(`Unarmed: ${analysis.unarmed} (${((analysis.unarmed/analysis.total)*100).toFixed(1)}%)`);\n\n    Chat.log(\"\\nEnvironmental Distribution:\");\n    Chat.log(`In water: ${analysis.inWater} (${((analysis.inWater/analysis.total)*100).toFixed(1)}%)`);\n    Chat.log(`On land: ${analysis.onLand} (${((analysis.onLand/analysis.total)*100).toFixed(1)}%)`);\n\n    Chat.log(\"\\nDistance Distribution:\");\n    Chat.log(`Near (â‰¤16m): ${analysis.withinRange.near}`);\n    Chat.log(`Medium (16-32m): ${analysis.withinRange.medium}`);\n    Chat.log(`Far (>32m): ${analysis.withinRange.far}`);\n\n    Chat.log(\"\\nThreat Assessment:\");\n    Chat.log(`Low threat (Shell carriers): ${analysis.threatLevel.low}`);\n    Chat.log(`Medium threat (Unarmed): ${analysis.threatLevel.medium}`);\n    Chat.log(`High threat (Trident wielders): ${analysis.threatLevel.high}`);\n\n    // Combat recommendations\n    Chat.log(\"\\n=== COMBAT RECOMMENDATIONS ===\");\n\n    if (analysis.tridentWielders > 0) {\n        Chat.log(\"&câš”ï¸ TRIDENT COMBAT:\");\n        Chat.log(\"  â€¢ Use shield to block projectile attacks\");\n        Chat.log(\"  â€¢ Keep moving to avoid trident throws\");\n        Chat.log(\"  â€¢ Attack from range or use hit-and-run tactics\");\n        Chat.log(\"  â€¢ Prioritize these targets - they're most dangerous\");\n    }\n\n    if (analysis.shellCarriers > 0) {\n        Chat.log(\"&aðŸš COLLECTION OPPORTUNITIES:\");\n        Chat.log(\"  â€¢ Target shell carriers for valuable resources\");\n        Chat.log(\"  â€¢ Easy combat - shells offer no protection\");\n        Chat.log(\"  â€¢ Collect shells for conduit crafting\");\n        Chat.log(\"  â€¢ Safe to engage even for inexperienced players\");\n    }\n\n    if (analysis.inWater > analysis.onLand) {\n        Chat.log(\"&eðŸ’§ AQUATIC COMBAT:\");\n        Chat.log(\"  â€¢ Most drowned are in water - their home advantage\");\n        Chat.log(\"  â€¢ Consider fighting from land if possible\");\n        Chat.log(\"  â€¢ Use ranged weapons when engaging in water\");\n        Chat.log(\"  â€¢ Watch your oxygen bar during underwater combat\");\n    }\n\n    // Priority targeting\n    if (analysis.withinRange.near > 0) {\n        Chat.log(\"\\nðŸŽ¯ IMMEDIATE THREATS:\");\n        Chat.log(`${analysis.withinRange.near} drowned within 16 blocks - immediate attention required!\");\n\n        if (analysis.tridentWielders > 0 && analysis.withinRange.near > 0) {\n            Chat.log(\"&cCRITICAL: Trident-wielding drowned at close range! Take evasive action!\");\n        }\n    }\n}\n\n// Run analysis periodically\nevents.on(\"Key\", JavaWrapper.methodToJavaAsync((e) => {\n    if (e.key === \"key.keyboard.d\" && e.action === 1) { // D key\n        analyzeDrownedCombatSituation();\n    }\n}));",
        "// Advanced drowned detection and warning system\nclass DrownedPatrolSystem {\n    constructor() {\n        this.drownedSightings = new Map();\n        this.tridentWarnings = new Set();\n        this.shellAlerts = new Set();\n        this.patrolStats = {\n            totalSightings: 0,\n            tridentSightings: 0,\n            shellSightings: 0,\n            closeEncounters: 0,\n            warningsIssued: 0\n        };\n        this.warningCooldown = new Map();\n    }\n\n    patrolArea() {\n        const player = Player.getPlayer();\n        if (!player) return;\n\n        const entities = World.getEntities();\n        const drownedEntities = entities.filter(entity => entity.is(\"minecraft:drowned\"));\n        const patrolRange = 48;\n        const currentTime = Client.getTime();\n\n        let newSightings = 0;\n        let criticalThreats = 0;\n\n        drownedEntities.forEach(drownedEntity => {\n            const distance = player.distanceTo(drownedEntity);\n            if (distance <= patrolRange) {\n                const drowned = drownedEntity.as(\"minecraft:drowned\");\n                const uuid = drownedEntity.getUUID();\n                const hasTrident = drowned.hasTrident();\n                const hasShell = drowned.hasNautilusShell();\n                const pos = drownedEntity.getPos();\n\n                // Update patrol statistics\n                this.patrolStats.totalSightings++;\n                if (hasTrident) {\n                    this.patrolStats.tridentSightings++;\n                    criticalThreats++;\n                }\n                if (hasShell) {\n                    this.patrolStats.shellSightings++;\n                }\n\n                if (distance <= 16) {\n                    this.patrolStats.closeEncounters++;\n                }\n\n                // Check if this is a new sighting\n                if (!this.drownedSightings.has(uuid)) {\n                    newSightings++;\n                    this.drownedSightings.set(uuid, {\n                        entity: drownedEntity,\n                        firstSeen: currentTime,\n                        lastSeen: currentTime,\n                        positions: [pos],\n                        equipment: {\n                            hasTrident,\n                            hasShell,\n                            lastChecked: currentTime\n                        }\n                    });\n\n                    // Issue initial sighting alert\n                    this.issueSightingAlert(drownedEntity, hasTrident, hasShell, distance);\n                } else {\n                    // Update existing sighting\n                    const sighting = this.drownedSightings.get(uuid);\n                    sighting.lastSeen = currentTime;\n                    sighting.positions.push(pos);\n\n                    // Keep only recent positions (last 10)\n                    if (sighting.positions.length > 10) {\n                        sighting.positions.shift();\n                    }\n\n                    // Check for equipment changes\n                    if (currentTime - sighting.equipment.lastChecked >= 40) { // Check every 2 seconds\n                        const currentHasTrident = drowned.hasTrident();\n                        const currentHasShell = drowned.hasNautilusShell();\n\n                        if (currentHasTrident !== sighting.equipment.hasTrident) {\n                            this.issueEquipmentChangeAlert(drownedEntity, 'trident', currentHasTrident);\n                            sighting.equipment.hasTrident = currentHasTrident;\n                        }\n\n                        if (currentHasShell !== sighting.equipment.hasShell) {\n                            this.issueEquipmentChangeAlert(drownedEntity, 'shell', currentHasShell);\n                            sighting.equipment.hasShell = currentHasShell;\n                        }\n\n                        sighting.equipment.lastChecked = currentTime;\n                    }\n                }\n\n                // Proximity warnings for close threats\n                if (distance <= 20) {\n                    this.issueProximityWarning(drownedEntity, hasTrident, distance);\n                }\n            }\n        });\n\n        // Clean up old sightings\n        this.cleanupOldSightings();\n\n        // Summary report\n        if (newSightings > 0) {\n            Chat.actionbar(`&eðŸ‘ï¸ Drowned Patrol: ${newSightings} new sightings, ${criticalThreats} critical threats`);\n        }\n\n        if (criticalThreats > 2) {\n            Chat.log(`&câš ï¸ HIGH THREAT LEVEL: ${criticalThreats} trident-wielding drowned detected!`);\n        }\n    }\n\n    issueSightingAlert(drownedEntity, hasTrident, hasShell, distance) {\n        const pos = drownedEntity.getPos();\n        const location = `(${pos.x.toFixed(0)}, ${pos.y.toFixed(0)}, ${pos.z.toFixed(0)})`;\n\n        let alert = \"&eðŸ‘ï¸ DROWNED SIGHTING: \";\n        let details = [];\n\n        if (hasTrident) {\n            alert += \"ðŸ”± ARMED WITH TRIDENT\";\n            details.push(\"EXTREME CAUTION - Ranged attacks\");\n        } else if (hasShell) {\n            alert += \"ðŸš CARRYING NAUTILUS SHELL\";\n            details.push(\"Valuable target - harmless combat\");\n        } else {\n            alert += \"ðŸ‘Š UNARMED\";\n            details.push(\"Standard melee threat\");\n        }\n\n        Chat.log(alert);\n        Chat.log(`  Location: ${location}`);\n        Chat.log(`  Distance: ${distance.toFixed(1)} blocks`);\n\n        details.forEach(detail => {\n            Chat.log(`  â€¢ ${detail}`);\n        });\n\n        this.patrolStats.warningsIssued++;\n    }\n\n    issueProximityWarning(drownedEntity, hasTrident, distance) {\n        const uuid = drownedEntity.getUUID();\n        const currentTime = Client.getTime();\n\n        // Cooldown to prevent spam\n        if (this.warningCooldown.has(uuid)) {\n            if (currentTime - this.warningCooldown.get(uuid) < 60) { // 3 second cooldown\n                return;\n            }\n        }\n\n        this.warningCooldown.set(uuid, currentTime);\n\n        const warning = hasTrident ?\n            `&cðŸ”± TRIDENT DROWNED ${distance.toFixed(0)}m AWAY!` :\n            `&eðŸ‘Š DROWNED ${distance.toFixed(0)}m AWAY!`;\n\n        Chat.actionbar(warning);\n        this.patrolStats.warningsIssued++;\n\n        // Additional warning for very close trident drowned\n        if (hasTrident && distance <= 12) {\n            Chat.log(`&câ€¼ï¸ CRITICAL: Trident-wielding drowned at ${distance.toFixed(1)} blocks - TAKE COVER!`);\n        }\n    }\n\n    issueEquipmentChangeAlert(drownedEntity, equipmentType, nowHas) {\n        const pos = drownedEntity.getPos();\n        const action = nowHas ? \"EQUIPPED\" : \"LOST\";\n\n        if (equipmentType === 'trident') {\n            Chat.log(`&câš”ï¸ EQUIPMENT CHANGE: Drowned ${action} trident at [${pos.x.toFixed(0)}, ${pos.y.toFixed(0)}, ${pos.z.toFixed(0)}]`);\n        } else if (equipmentType === 'shell') {\n            Chat.log(`&aðŸš EQUIPMENT CHANGE: Drowned ${action} nautilus shell at [${pos.x.toFixed(0)}, ${pos.y.toFixed(0)}, ${pos.z.toFixed(0)}]`);\n        }\n    }\n\n    cleanupOldSightings() {\n        const currentTime = Client.getTime();\n        const cleanupTime = 600; // Remove sightings older than 30 seconds\n\n        for (const [uuid, sighting] of this.drownedSightings) {\n            if (currentTime - sighting.lastSeen > cleanupTime || !sighting.entity.isAlive()) {\n                this.drownedSightings.delete(uuid);\n                this.warningCooldown.delete(uuid);\n            }\n        }\n    }\n\n    generatePatrolReport() {\n        if (this.drownedSightings.size === 0) {\n            Chat.log(\"No drowned currently tracked by patrol system\");\n            return;\n        }\n\n        Chat.log(`&6=== DROWNED PATROL REPORT ===`);\n        Chat.log(`Currently tracking: ${this.drownedSightings.size} drowned`);\n        Chat.log(`Total patrol statistics:`);\n        Chat.log(`  â€¢ Total sightings: ${this.patrolStats.totalSightings}`);\n        Chat.log(`  â€¢ Trident sightings: ${this.patrolStats.tridentSightings}`);\n        Chat.log(`  â€¢ Shell sightings: ${this.patrolStats.shellSightings}`);\n        Chat.log(`  â€¢ Close encounters: ${this.patrolStats.closeEncounters}`);\n        Chat.log(`  â€¢ Warnings issued: ${this.patrolStats.warningsIssued}`);\n\n        // Current threat analysis\n        let currentTridents = 0;\n        let currentShells = 0;\n        let nearbyThreats = 0;\n\n        const player = Player.getPlayer();\n        for (const [uuid, sighting] of this.drownedSightings) {\n            if (sighting.equipment.hasTrident) currentTridents++;\n            if (sighting.equipment.hasShell) currentShells++;\n\n            const distance = player.distanceTo(sighting.entity);\n            if (distance <= 20) nearbyThreats++;\n        }\n\n        Chat.log(`\\n&6Current threats in area:`);\n        Chat.log(`  â€¢ Trident wielders: ${currentTridents}`);\n        Chat.log(`  â€¢ Shell carriers: ${currentShells}`);\n        Chat.log(`  â€¢ Within 20 blocks: ${nearbyThreats}`);\n\n        // Movement analysis\n        if (this.drownedSightings.size > 0) {\n            Chat.log(`\\n&6Movement patterns:`);\n            for (const [uuid, sighting] of this.drownedSightings) {\n                const positions = sighting.positions;\n                if (positions.length >= 3) {\n                    const totalMovement = this.calculateTotalMovement(positions);\n                    const timeElapsed = (Client.getTime() - sighting.firstSeen) / 20; // seconds\n                    const avgSpeed = totalMovement / timeElapsed;\n\n                    Chat.log(`  ${sighting.entity.getName().getString()}: ${avgSpeed.toFixed(2)} blocks/sec`);\n                }\n            }\n        }\n    }\n\n    calculateTotalMovement(positions) {\n        let totalMovement = 0;\n        for (let i = 1; i < positions.length; i++) {\n            totalMovement += positions[i].distanceTo(positions[i-1]);\n        }\n        return totalMovement;\n    }\n}\n\nconst drownedPatrol = new DrownedPatrolSystem();\n\n// Active patrol system\nevents.on(\"Tick\", JavaWrapper.methodToJavaAsync((e) => {\n    // Patrol every 2 seconds (40 ticks)\n    if (Client.getTime() % 40 === 0) {\n        drownedPatrol.patrolArea();\n    }\n}));\n\n// Patrol report command\nevents.on(\"Key\", JavaWrapper.methodToJavaAsync((e) => {\n    if (e.key === \"key.keyboard.p\" && e.action === 1) { // P key\n        drownedPatrol.generatePatrolReport();\n    }\n}));"
      ]
    },
    {
      "name": "hasNautilusShell",
      "signature": "hasNautilusShell()",
      "returnType": "boolean",
      "description": "Checks if the drowned entity is currently holding a nautilus shell in its main hand. This method helps identify valuable farming targets for conduit crafting.",
      "parameters": [],
      "static": false,
      "examples": [
        "// Comprehensive drowned combat analysis\nfunction analyzeDrownedCombatSituation() {\n    const player = Player.getPlayer();\n    if (!player) return;\n\n    const entities = World.getEntities();\n    const drownedEntities = entities.filter(entity => entity.is(\"minecraft:drowned\"));\n\n    if (drownedEntities.length === 0) {\n        Chat.log(\"No drowned detected in the area\");\n        return;\n    }\n\n    Chat.log(`=== DROWNED COMBAT ANALYSIS (${drownedEntities.length} detected) ===`);\n\n    const analysis = {\n        total: drownedEntities.length,\n        tridentWielders: 0,\n        shellCarriers: 0,\n        unarmed: 0,\n        inWater: 0,\n        onLand: 0,\n        withinRange: { near: 0, medium: 0, far: 0 },\n        threatLevel: { low: 0, medium: 0, high: 0, extreme: 0 }\n    };\n\n    drownedEntities.forEach(drownedEntity => {\n        const drowned = drownedEntity.as(\"minecraft:drowned\");\n        const distance = player.distanceTo(drownedEntity);\n        const pos = drownedEntity.getPos();\n\n        // Equipment analysis\n        if (drowned.hasTrident()) {\n            analysis.tridentWielders++;\n            analysis.threatLevel.high++;\n        } else if (drowned.hasNautilusShell()) {\n            analysis.shellCarriers++;\n            analysis.threatLevel.low++;\n        } else {\n            analysis.unarmed++;\n            analysis.threatLevel.medium++;\n        }\n\n        // Environmental analysis\n        if (drownedEntity.isInWater()) {\n            analysis.inWater++;\n        } else {\n            analysis.onLand++;\n        }\n\n        // Distance categories\n        if (distance <= 16) analysis.withinRange.near++;\n        else if (distance <= 32) analysis.withinRange.medium++;\n        else analysis.withinRange.far++;\n\n        // Detailed logging for nearby drowned\n        if (distance <= 32) {\n            let status = [];\n            if (drowned.hasTrident()) status.push(\"ðŸ”± Trident\");\n            if (drowned.hasNautilusShell()) status.push(\"ðŸš Shell\");\n            if (drownedEntity.isInWater()) status.push(\"ðŸ’§ Water\");\n            if (drownedEntity.isOnFire()) status.push(\"ðŸ”¥ Burning\");\n\n            Chat.log(`  Drowned at [${pos.x.toFixed(0)}, ${pos.y.toFixed(0)}, ${pos.z.toFixed(0)}]: ${distance.toFixed(1)}m - ${status.join(\", \") || \" unarmed\"}`);\n        }\n    });\n\n    // Summary analysis\n    Chat.log(\"\\n=== COMBAT SUMMARY ===\");\n    Chat.log(`Total drowned: ${analysis.total}`);\n    Chat.log(`Trident wielders: ${analysis.tridentWielders} (${((analysis.tridentWielders/analysis.total)*100).toFixed(1)}%)`);\n    Chat.log(`Shell carriers: ${analysis.shellCarriers} (${((analysis.shellCarriers/analysis.total)*100).toFixed(1)}%)`);\n    Chat.log(`Unarmed: ${analysis.unarmed} (${((analysis.unarmed/analysis.total)*100).toFixed(1)}%)`);\n\n    Chat.log(\"\\nEnvironmental Distribution:\");\n    Chat.log(`In water: ${analysis.inWater} (${((analysis.inWater/analysis.total)*100).toFixed(1)}%)`);\n    Chat.log(`On land: ${analysis.onLand} (${((analysis.onLand/analysis.total)*100).toFixed(1)}%)`);\n\n    Chat.log(\"\\nDistance Distribution:\");\n    Chat.log(`Near (â‰¤16m): ${analysis.withinRange.near}`);\n    Chat.log(`Medium (16-32m): ${analysis.withinRange.medium}`);\n    Chat.log(`Far (>32m): ${analysis.withinRange.far}`);\n\n    Chat.log(\"\\nThreat Assessment:\");\n    Chat.log(`Low threat (Shell carriers): ${analysis.threatLevel.low}`);\n    Chat.log(`Medium threat (Unarmed): ${analysis.threatLevel.medium}`);\n    Chat.log(`High threat (Trident wielders): ${analysis.threatLevel.high}`);\n\n    // Combat recommendations\n    Chat.log(\"\\n=== COMBAT RECOMMENDATIONS ===\");\n\n    if (analysis.tridentWielders > 0) {\n        Chat.log(\"&câš”ï¸ TRIDENT COMBAT:\");\n        Chat.log(\"  â€¢ Use shield to block projectile attacks\");\n        Chat.log(\"  â€¢ Keep moving to avoid trident throws\");\n        Chat.log(\"  â€¢ Attack from range or use hit-and-run tactics\");\n        Chat.log(\"  â€¢ Prioritize these targets - they're most dangerous\");\n    }\n\n    if (analysis.shellCarriers > 0) {\n        Chat.log(\"&aðŸš COLLECTION OPPORTUNITIES:\");\n        Chat.log(\"  â€¢ Target shell carriers for valuable resources\");\n        Chat.log(\"  â€¢ Easy combat - shells offer no protection\");\n        Chat.log(\"  â€¢ Collect shells for conduit crafting\");\n        Chat.log(\"  â€¢ Safe to engage even for inexperienced players\");\n    }\n\n    if (analysis.inWater > analysis.onLand) {\n        Chat.log(\"&eðŸ’§ AQUATIC COMBAT:\");\n        Chat.log(\"  â€¢ Most drowned are in water - their home advantage\");\n        Chat.log(\"  â€¢ Consider fighting from land if possible\");\n        Chat.log(\"  â€¢ Use ranged weapons when engaging in water\");\n        Chat.log(\"  â€¢ Watch your oxygen bar during underwater combat\");\n    }\n\n    // Priority targeting\n    if (analysis.withinRange.near > 0) {\n        Chat.log(\"\\nðŸŽ¯ IMMEDIATE THREATS:\");\n        Chat.log(`${analysis.withinRange.near} drowned within 16 blocks - immediate attention required!\");\n\n        if (analysis.tridentWielders > 0 && analysis.withinRange.near > 0) {\n            Chat.log(\"&cCRITICAL: Trident-wielding drowned at close range! Take evasive action!\");\n        }\n    }\n}\n\n// Run analysis periodically\nevents.on(\"Key\", JavaWrapper.methodToJavaAsync((e) => {\n    if (e.key === \"key.keyboard.d\" && e.action === 1) { // D key\n        analyzeDrownedCombatSituation();\n    }\n}));",
        "// Advanced drowned detection and warning system\nclass DrownedPatrolSystem {\n    constructor() {\n        this.drownedSightings = new Map();\n        this.tridentWarnings = new Set();\n        this.shellAlerts = new Set();\n        this.patrolStats = {\n            totalSightings: 0,\n            tridentSightings: 0,\n            shellSightings: 0,\n            closeEncounters: 0,\n            warningsIssued: 0\n        };\n        this.warningCooldown = new Map();\n    }\n\n    patrolArea() {\n        const player = Player.getPlayer();\n        if (!player) return;\n\n        const entities = World.getEntities();\n        const drownedEntities = entities.filter(entity => entity.is(\"minecraft:drowned\"));\n        const patrolRange = 48;\n        const currentTime = Client.getTime();\n\n        let newSightings = 0;\n        let criticalThreats = 0;\n\n        drownedEntities.forEach(drownedEntity => {\n            const distance = player.distanceTo(drownedEntity);\n            if (distance <= patrolRange) {\n                const drowned = drownedEntity.as(\"minecraft:drowned\");\n                const uuid = drownedEntity.getUUID();\n                const hasTrident = drowned.hasTrident();\n                const hasShell = drowned.hasNautilusShell();\n                const pos = drownedEntity.getPos();\n\n                // Update patrol statistics\n                this.patrolStats.totalSightings++;\n                if (hasTrident) {\n                    this.patrolStats.tridentSightings++;\n                    criticalThreats++;\n                }\n                if (hasShell) {\n                    this.patrolStats.shellSightings++;\n                }\n\n                if (distance <= 16) {\n                    this.patrolStats.closeEncounters++;\n                }\n\n                // Check if this is a new sighting\n                if (!this.drownedSightings.has(uuid)) {\n                    newSightings++;\n                    this.drownedSightings.set(uuid, {\n                        entity: drownedEntity,\n                        firstSeen: currentTime,\n                        lastSeen: currentTime,\n                        positions: [pos],\n                        equipment: {\n                            hasTrident,\n                            hasShell,\n                            lastChecked: currentTime\n                        }\n                    });\n\n                    // Issue initial sighting alert\n                    this.issueSightingAlert(drownedEntity, hasTrident, hasShell, distance);\n                } else {\n                    // Update existing sighting\n                    const sighting = this.drownedSightings.get(uuid);\n                    sighting.lastSeen = currentTime;\n                    sighting.positions.push(pos);\n\n                    // Keep only recent positions (last 10)\n                    if (sighting.positions.length > 10) {\n                        sighting.positions.shift();\n                    }\n\n                    // Check for equipment changes\n                    if (currentTime - sighting.equipment.lastChecked >= 40) { // Check every 2 seconds\n                        const currentHasTrident = drowned.hasTrident();\n                        const currentHasShell = drowned.hasNautilusShell();\n\n                        if (currentHasTrident !== sighting.equipment.hasTrident) {\n                            this.issueEquipmentChangeAlert(drownedEntity, 'trident', currentHasTrident);\n                            sighting.equipment.hasTrident = currentHasTrident;\n                        }\n\n                        if (currentHasShell !== sighting.equipment.hasShell) {\n                            this.issueEquipmentChangeAlert(drownedEntity, 'shell', currentHasShell);\n                            sighting.equipment.hasShell = currentHasShell;\n                        }\n\n                        sighting.equipment.lastChecked = currentTime;\n                    }\n                }\n\n                // Proximity warnings for close threats\n                if (distance <= 20) {\n                    this.issueProximityWarning(drownedEntity, hasTrident, distance);\n                }\n            }\n        });\n\n        // Clean up old sightings\n        this.cleanupOldSightings();\n\n        // Summary report\n        if (newSightings > 0) {\n            Chat.actionbar(`&eðŸ‘ï¸ Drowned Patrol: ${newSightings} new sightings, ${criticalThreats} critical threats`);\n        }\n\n        if (criticalThreats > 2) {\n            Chat.log(`&câš ï¸ HIGH THREAT LEVEL: ${criticalThreats} trident-wielding drowned detected!`);\n        }\n    }\n\n    issueSightingAlert(drownedEntity, hasTrident, hasShell, distance) {\n        const pos = drownedEntity.getPos();\n        const location = `(${pos.x.toFixed(0)}, ${pos.y.toFixed(0)}, ${pos.z.toFixed(0)})`;\n\n        let alert = \"&eðŸ‘ï¸ DROWNED SIGHTING: \";\n        let details = [];\n\n        if (hasTrident) {\n            alert += \"ðŸ”± ARMED WITH TRIDENT\";\n            details.push(\"EXTREME CAUTION - Ranged attacks\");\n        } else if (hasShell) {\n            alert += \"ðŸš CARRYING NAUTILUS SHELL\";\n            details.push(\"Valuable target - harmless combat\");\n        } else {\n            alert += \"ðŸ‘Š UNARMED\";\n            details.push(\"Standard melee threat\");\n        }\n\n        Chat.log(alert);\n        Chat.log(`  Location: ${location}`);\n        Chat.log(`  Distance: ${distance.toFixed(1)} blocks`);\n\n        details.forEach(detail => {\n            Chat.log(`  â€¢ ${detail}`);\n        });\n\n        this.patrolStats.warningsIssued++;\n    }\n\n    issueProximityWarning(drownedEntity, hasTrident, distance) {\n        const uuid = drownedEntity.getUUID();\n        const currentTime = Client.getTime();\n\n        // Cooldown to prevent spam\n        if (this.warningCooldown.has(uuid)) {\n            if (currentTime - this.warningCooldown.get(uuid) < 60) { // 3 second cooldown\n                return;\n            }\n        }\n\n        this.warningCooldown.set(uuid, currentTime);\n\n        const warning = hasTrident ?\n            `&cðŸ”± TRIDENT DROWNED ${distance.toFixed(0)}m AWAY!` :\n            `&eðŸ‘Š DROWNED ${distance.toFixed(0)}m AWAY!`;\n\n        Chat.actionbar(warning);\n        this.patrolStats.warningsIssued++;\n\n        // Additional warning for very close trident drowned\n        if (hasTrident && distance <= 12) {\n            Chat.log(`&câ€¼ï¸ CRITICAL: Trident-wielding drowned at ${distance.toFixed(1)} blocks - TAKE COVER!`);\n        }\n    }\n\n    issueEquipmentChangeAlert(drownedEntity, equipmentType, nowHas) {\n        const pos = drownedEntity.getPos();\n        const action = nowHas ? \"EQUIPPED\" : \"LOST\";\n\n        if (equipmentType === 'trident') {\n            Chat.log(`&câš”ï¸ EQUIPMENT CHANGE: Drowned ${action} trident at [${pos.x.toFixed(0)}, ${pos.y.toFixed(0)}, ${pos.z.toFixed(0)}]`);\n        } else if (equipmentType === 'shell') {\n            Chat.log(`&aðŸš EQUIPMENT CHANGE: Drowned ${action} nautilus shell at [${pos.x.toFixed(0)}, ${pos.y.toFixed(0)}, ${pos.z.toFixed(0)}]`);\n        }\n    }\n\n    cleanupOldSightings() {\n        const currentTime = Client.getTime();\n        const cleanupTime = 600; // Remove sightings older than 30 seconds\n\n        for (const [uuid, sighting] of this.drownedSightings) {\n            if (currentTime - sighting.lastSeen > cleanupTime || !sighting.entity.isAlive()) {\n                this.drownedSightings.delete(uuid);\n                this.warningCooldown.delete(uuid);\n            }\n        }\n    }\n\n    generatePatrolReport() {\n        if (this.drownedSightings.size === 0) {\n            Chat.log(\"No drowned currently tracked by patrol system\");\n            return;\n        }\n\n        Chat.log(`&6=== DROWNED PATROL REPORT ===`);\n        Chat.log(`Currently tracking: ${this.drownedSightings.size} drowned`);\n        Chat.log(`Total patrol statistics:`);\n        Chat.log(`  â€¢ Total sightings: ${this.patrolStats.totalSightings}`);\n        Chat.log(`  â€¢ Trident sightings: ${this.patrolStats.tridentSightings}`);\n        Chat.log(`  â€¢ Shell sightings: ${this.patrolStats.shellSightings}`);\n        Chat.log(`  â€¢ Close encounters: ${this.patrolStats.closeEncounters}`);\n        Chat.log(`  â€¢ Warnings issued: ${this.patrolStats.warningsIssued}`);\n\n        // Current threat analysis\n        let currentTridents = 0;\n        let currentShells = 0;\n        let nearbyThreats = 0;\n\n        const player = Player.getPlayer();\n        for (const [uuid, sighting] of this.drownedSightings) {\n            if (sighting.equipment.hasTrident) currentTridents++;\n            if (sighting.equipment.hasShell) currentShells++;\n\n            const distance = player.distanceTo(sighting.entity);\n            if (distance <= 20) nearbyThreats++;\n        }\n\n        Chat.log(`\\n&6Current threats in area:`);\n        Chat.log(`  â€¢ Trident wielders: ${currentTridents}`);\n        Chat.log(`  â€¢ Shell carriers: ${currentShells}`);\n        Chat.log(`  â€¢ Within 20 blocks: ${nearbyThreats}`);\n\n        // Movement analysis\n        if (this.drownedSightings.size > 0) {\n            Chat.log(`\\n&6Movement patterns:`);\n            for (const [uuid, sighting] of this.drownedSightings) {\n                const positions = sighting.positions;\n                if (positions.length >= 3) {\n                    const totalMovement = this.calculateTotalMovement(positions);\n                    const timeElapsed = (Client.getTime() - sighting.firstSeen) / 20; // seconds\n                    const avgSpeed = totalMovement / timeElapsed;\n\n                    Chat.log(`  ${sighting.entity.getName().getString()}: ${avgSpeed.toFixed(2)} blocks/sec`);\n                }\n            }\n        }\n    }\n\n    calculateTotalMovement(positions) {\n        let totalMovement = 0;\n        for (let i = 1; i < positions.length; i++) {\n            totalMovement += positions[i].distanceTo(positions[i-1]);\n        }\n        return totalMovement;\n    }\n}\n\nconst drownedPatrol = new DrownedPatrolSystem();\n\n// Active patrol system\nevents.on(\"Tick\", JavaWrapper.methodToJavaAsync((e) => {\n    // Patrol every 2 seconds (40 ticks)\n    if (Client.getTime() % 40 === 0) {\n        drownedPatrol.patrolArea();\n    }\n}));\n\n// Patrol report command\nevents.on(\"Key\", JavaWrapper.methodToJavaAsync((e) => {\n    if (e.key === \"key.keyboard.p\" && e.action === 1) { // P key\n        drownedPatrol.generatePatrolReport();\n    }\n}));"
      ]
    }
  ]
}
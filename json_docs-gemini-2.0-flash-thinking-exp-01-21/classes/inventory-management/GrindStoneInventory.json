{
  "name": "GrindStoneInventory",
  "fullClassName": "xyz.wagyourtail.jsmacros.client.api.classes.inventory.GrindStoneInventory",
  "extends": "Inventory<GrindstoneScreen>",
  "since": "1.8.4",
  "description": "The `GrindStoneInventory` class provides specialized access to Minecraft's grindstone interface, allowing scripts to interact with grindstone operations such as disenchanting items and repairing equipment. This class extends the base `Inventory` class and adds grindstone-specific functionality for managing input slots, output results, and experience calculation.",
  "overview": "You typically get `GrindStoneInventory` instances when the player has a grindstone screen open:\n\n```javascript\n// Check if current screen is a grindstone\nconst inv = Inventory.create();\nif (inv && inv.getType() === \"Grindstone\") {\n    const grindstone = inv; // Already typed as GrindStoneInventory\n    Chat.log(\"Grindstone inventory detected!\");\n}\n```\n\nGrindstones in Minecraft have three main slots:\n- **Top Input (Slot 0):** The upper item to be disenchanted or repaired\n- **Bottom Input (Slot 1):** The lower item to be disenchanted or repaired\n- **Output (Slot 2):** The resulting item after removing enchantments",
  "constructors": [],
  "methods": [
    {
      "name": "getTopInput",
      "signature": "getTopInput()",
      "returnType": "ItemStackHelper",
      "description": "Gets the item stack currently in the top input slot (Slot 0) of the grindstone.",
      "parameters": [],
      "static": false,
      "examples": [
        "function disenchantItem() {\n    const inv = Inventory.create();\n\n    // Check if we have a grindstone open\n    if (!inv || !inv.is(\"Grindstone\")) {\n        Chat.log(\"Please open a grindstone first\");\n        return false;\n    }\n\n    const topItem = inv.getTopInput();\n    const bottomItem = inv.getBottomInput();\n\n    // Check if there's an item to disenchant\n    if (topItem.isEmpty() && bottomItem.isEmpty()) {\n        Chat.log(\"Please place an item in the grindstone\");\n        return false;\n    }\n\n    // Make sure only one slot is occupied\n    if (!topItem.isEmpty() && !bottomItem.isEmpty()) {\n        Chat.log(\"Please remove one item - grindstone can only process one at a time\");\n        return false;\n    }\n\n    const item = topItem.isEmpty() ? bottomItem : topItem;\n\n    if (!item.isEnchanted() && (!item.isDamageable() || item.getDurability() === item.getMaxDurability())) {\n        Chat.log(\"This item doesn't need processing (no enchantments or damage)\");\n        return false;\n    }\n\n    // Calculate expected XP\n    const xpReward = inv.simulateXp();\n    Chat.log(`Expected XP: ${xpReward} - ${xpReward * 2} orbs`);\n\n    // Check if output is ready\n    const output = inv.getOutput();\n    if (!output.isEmpty()) {\n        Chat.log(`Disenchanting: ${item.getName().getString()}`);\n        Chat.log(`Result: ${output.getName().getString()}`);\n\n        // Take the result\n        inv.quick(2);\n        Chat.log(\"Disenchanting complete!\");\n        return true;\n    } else {\n        Chat.log(\"Waiting for disenchanting process...\");\n        return false;\n    }\n}\n\n// Example usage\ndisenchantItem();",
        "function calculateGrindstoneValue() {\n    const inv = Inventory.create();\n\n    if (!inv || !inv.is(\"Grindstone\")) {\n        Chat.log(\"Please open a grindstone first\");\n        return;\n    }\n\n    const topItem = inv.getTopInput();\n    const bottomItem = inv.getBottomInput();\n\n    Chat.log(\"=== Grindstone Value Analysis ===\");\n\n    let totalMinXP = 0;\n    let totalMaxXP = 0;\n    let itemCount = 0;\n\n    function analyzeItem(item, slotName) {\n        if (item.isEmpty()) return;\n\n        itemCount++;\n        Chat.log(`\\n${slotName}: ${item.getName().getString()}`);\n\n        if (item.isEnchanted()) {\n            const enchantments = item.getEnchantments();\n            let itemXP = 0;\n            let valuableEnchants = [];\n\n            for (const ench of enchantments) {\n                if (!ench.getName().toLowerCase().includes(\"curse\")) {\n                    const enchValue = ench.getLevel() * 2; // Rough estimate\n                    itemXP += enchValue;\n                    valuableEnchants.push(`${ench.getName()} ${ench.getLevel()}`);\n                }\n            }\n\n            Chat.log(`  Enchantments: ${valuableEnchants.join(\", \")}`);\n            Chat.log(`  Estimated XP value: ${itemXP}`);\n\n            totalMinXP += Math.ceil(itemXP / 2);\n            totalMaxXP += itemXP;\n        } else {\n            Chat.log(\"  No enchantments\");\n        }\n\n        if (item.isDamageable()) {\n            const durabilityPercent = (item.getDurability() / item.getMaxDurability()) * 100;\n            Chat.log(`  Durability: ${durabilityPercent.toFixed(1)}%`);\n\n            if (durabilityPercent < 100) {\n                Chat.log(\"  Can be repaired at grindstone\");\n            }\n        }\n    }\n\n    analyzeItem(topItem, \"Top Item\");\n    analyzeItem(bottomItem, \"Bottom Item\");\n\n    const actualXP = inv.simulateXp();\n\n    Chat.log(\"\\n=== Summary ===\");\n    Chat.log(`Items to process: ${itemCount}`);\n    Chat.log(`Estimated XP range: ${totalMinXP} - ${totalMaxXP}`);\n    Chat.log(`Actual calculation: ${actualXP} - ${actualXP * 2}`);\n\n    if (actualXP > 0) {\n        Chat.log(\"\\nEnchantment breakdown (high value):\");\n\n        if (!topItem.isEmpty() && topItem.isEnchanted()) {\n            for (const ench of topItem.getEnchantments()) {\n                if (!ench.getName().toLowerCase().includes(\"curse\")) {\n                    Chat.log(`  ${ench.getName()} ${ench.getLevel()}: ~${ench.getLevel() * 2} XP`);\n                }\n            }\n        }\n\n        if (!bottomItem.isEmpty() && bottomItem.isEnchanted()) {\n            for (const ench of bottomItem.getEnchantments()) {\n                if (!ench.getName().toLowerCase().includes(\"curse\")) {\n                    Chat.log(`  ${ench.getName()} ${ench.getLevel()}: ~${ench.getLevel() * 2} XP`);\n                }\n            }\n        }\n    }\n\n    Chat.log(\"===============================\");\n}\n\n// Example usage\ncalculateGrindstoneValue();",
        "function smartGrindstoneManager() {\n    const inv = Inventory.create();\n\n    if (!inv || !inv.is(\"Grindstone\")) {\n        Chat.log(\"Please open a grindstone first\");\n        return;\n    }\n\n    const topItem = inv.getTopInput();\n    const bottomItem = inv.getBottomInput();\n    const output = inv.getOutput();\n\n    // Auto-process logic\n    if (!topItem.isEmpty() || !bottomItem.isEmpty()) {\n        if (!output.isEmpty()) {\n            const xpReward = inv.simulateXp();\n\n            // Auto-take if XP is decent\n            if (xpReward >= 3) {\n                inv.quick(2);\n                Chat.log(`&aAuto-collected: ${output.getName().getString()} (~${Math.floor(xpReward * 1.5)} XP)`);\n            } else {\n                Chat.log(`&6Low XP item (${xpReward}-${xpReward * 2}) - manual collection suggested`);\n            }\n        } else {\n            // Provide feedback on what's being processed\n            const item = topItem.isEmpty() ? bottomItem : topItem;\n            if (item.isEnchanted()) {\n                const enchCount = item.getEnchantments().filter(e => !e.getName().toLowerCase().includes(\"curse\")).length;\n                Chat.log(`&7Processing: ${item.getName().getString()} (${enchCount} enchantments)`);\n            } else if (item.isDamageable() && item.getDurability() < item.getMaxDurability()) {\n                Chat.log(`&7Repairing: ${item.getName().getString()}`);\n            }\n        }\n    } else {\n        // Suggest items from inventory\n        const enchantedItems = [];\n        const damagedItems = [];\n\n        const allItems = inv.getItems(\"main\", \"hotbar\");\n        for (const item of allItems) {\n            if (item.isEnchanted()) {\n                const valuableEnchants = item.getEnchantments().filter(e => !e.getName().toLowerCase().includes(\"curse\"));\n                if (valuableEnchants.length > 0) {\n                    enchantedItems.push(item);\n                }\n            } else if (item.isDamageable() && item.getDurability() < item.getMaxDurability() * 0.5) {\n                damagedItems.push(item);\n            }\n        }\n\n        if (enchantedItems.length > 0) {\n            Chat.log(`&eFound ${enchantedItems.length} enchanted items to disenchant`);\n            Chat.log(`  Top suggestion: ${enchantedItems[0].getName().getString()}`);\n        }\n\n        if (damagedItems.length > 0) {\n            Chat.log(`&eFound ${damagedItems.length} damaged items to repair`);\n            Chat.log(`  Top suggestion: ${damagedItems[0].getName().getString()}`);\n        }\n\n        if (enchantedItems.length === 0 && damagedItems.length === 0) {\n            Chat.log(\"&7No items need grindstone processing\");\n        }\n    }\n}\n\n// Monitor grindstone automatically\nfunction monitorGrindstone() {\n    let tickCount = 0;\n\n    const monitor = JsMacros.on(\"Tick\", JavaWrapper.methodToJavaAsync(() => {\n        const currentInv = Inventory.create();\n        if (!currentInv || !currentInv.is(\"Grindstone\")) {\n            JsMacros.off(monitor);\n            Chat.actionbar(\"&7Grindstone closed\");\n            return;\n        }\n\n        // Update every 10 ticks (0.5 seconds)\n        if (tickCount % 10 === 0) {\n            smartGrindstoneManager();\n        }\n        tickCount++;\n    }));\n\n    Chat.log(\"Grindstone monitor started\");\n}\n\n// Example usage\nmonitorGrindstone();"
      ]
    },
    {
      "name": "getBottomInput",
      "signature": "getBottomInput()",
      "returnType": "ItemStackHelper",
      "description": "Gets the item stack currently in the bottom input slot (Slot 1) of the grindstone.",
      "parameters": [],
      "static": false,
      "examples": [
        "function disenchantItem() {\n    const inv = Inventory.create();\n\n    // Check if we have a grindstone open\n    if (!inv || !inv.is(\"Grindstone\")) {\n        Chat.log(\"Please open a grindstone first\");\n        return false;\n    }\n\n    const topItem = inv.getTopInput();\n    const bottomItem = inv.getBottomInput();\n\n    // Check if there's an item to disenchant\n    if (topItem.isEmpty() && bottomItem.isEmpty()) {\n        Chat.log(\"Please place an item in the grindstone\");\n        return false;\n    }\n\n    // Make sure only one slot is occupied\n    if (!topItem.isEmpty() && !bottomItem.isEmpty()) {\n        Chat.log(\"Please remove one item - grindstone can only process one at a time\");\n        return false;\n    }\n\n    const item = topItem.isEmpty() ? bottomItem : topItem;\n\n    if (!item.isEnchanted() && (!item.isDamageable() || item.getDurability() === item.getMaxDurability())) {\n        Chat.log(\"This item doesn't need processing (no enchantments or damage)\");\n        return false;\n    }\n\n    // Calculate expected XP\n    const xpReward = inv.simulateXp();\n    Chat.log(`Expected XP: ${xpReward} - ${xpReward * 2} orbs`);\n\n    // Check if output is ready\n    const output = inv.getOutput();\n    if (!output.isEmpty()) {\n        Chat.log(`Disenchanting: ${item.getName().getString()}`);\n        Chat.log(`Result: ${output.getName().getString()}`);\n\n        // Take the result\n        inv.quick(2);\n        Chat.log(\"Disenchanting complete!\");\n        return true;\n    } else {\n        Chat.log(\"Waiting for disenchanting process...\");\n        return false;\n    }\n}\n\n// Example usage\ndisenchantItem();",
        "function calculateGrindstoneValue() {\n    const inv = Inventory.create();\n\n    if (!inv || !inv.is(\"Grindstone\")) {\n        Chat.log(\"Please open a grindstone first\");\n        return;\n    }\n\n    const topItem = inv.getTopInput();\n    const bottomItem = inv.getBottomInput();\n\n    Chat.log(\"=== Grindstone Value Analysis ===\");\n\n    let totalMinXP = 0;\n    let totalMaxXP = 0;\n    let itemCount = 0;\n\n    function analyzeItem(item, slotName) {\n        if (item.isEmpty()) return;\n\n        itemCount++;\n        Chat.log(`\\n${slotName}: ${item.getName().getString()}`);\n\n        if (item.isEnchanted()) {\n            const enchantments = item.getEnchantments();\n            let itemXP = 0;\n            let valuableEnchants = [];\n\n            for (const ench of enchantments) {\n                if (!ench.getName().toLowerCase().includes(\"curse\")) {\n                    const enchValue = ench.getLevel() * 2; // Rough estimate\n                    itemXP += enchValue;\n                    valuableEnchants.push(`${ench.getName()} ${ench.getLevel()}`);\n                }\n            }\n\n            Chat.log(`  Enchantments: ${valuableEnchants.join(\", \")}`);\n            Chat.log(`  Estimated XP value: ${itemXP}`);\n\n            totalMinXP += Math.ceil(itemXP / 2);\n            totalMaxXP += itemXP;\n        } else {\n            Chat.log(\"  No enchantments\");\n        }\n\n        if (item.isDamageable()) {\n            const durabilityPercent = (item.getDurability() / item.getMaxDurability()) * 100;\n            Chat.log(`  Durability: ${durabilityPercent.toFixed(1)}%`);\n\n            if (durabilityPercent < 100) {\n                Chat.log(\"  Can be repaired at grindstone\");\n            }\n        }\n    }\n\n    analyzeItem(topItem, \"Top Item\");\n    analyzeItem(bottomItem, \"Bottom Item\");\n\n    const actualXP = inv.simulateXp();\n\n    Chat.log(\"\\n=== Summary ===\");\n    Chat.log(`Items to process: ${itemCount}`);\n    Chat.log(`Estimated XP range: ${totalMinXP} - ${totalMaxXP}`);\n    Chat.log(`Actual calculation: ${actualXP} - ${actualXP * 2}`);\n\n    if (actualXP > 0) {\n        Chat.log(\"\\nEnchantment breakdown (high value):\");\n\n        if (!topItem.isEmpty() && topItem.isEnchanted()) {\n            for (const ench of topItem.getEnchantments()) {\n                if (!ench.getName().toLowerCase().includes(\"curse\")) {\n                    Chat.log(`  ${ench.getName()} ${ench.getLevel()}: ~${ench.getLevel() * 2} XP`);\n                }\n            }\n        }\n\n        if (!bottomItem.isEmpty() && bottomItem.isEnchanted()) {\n            for (const ench of bottomItem.getEnchantments()) {\n                if (!ench.getName().toLowerCase().includes(\"curse\")) {\n                    Chat.log(`  ${ench.getName()} ${ench.getLevel()}: ~${ench.getLevel() * 2} XP`);\n                }\n            }\n        }\n    }\n\n    Chat.log(\"===============================\");\n}\n\n// Example usage\ncalculateGrindstoneValue();",
        "function smartGrindstoneManager() {\n    const inv = Inventory.create();\n\n    if (!inv || !inv.is(\"Grindstone\")) {\n        Chat.log(\"Please open a grindstone first\");\n        return;\n    }\n\n    const topItem = inv.getTopInput();\n    const bottomItem = inv.getBottomInput();\n    const output = inv.getOutput();\n\n    // Auto-process logic\n    if (!topItem.isEmpty() || !bottomItem.isEmpty()) {\n        if (!output.isEmpty()) {\n            const xpReward = inv.simulateXp();\n\n            // Auto-take if XP is decent\n            if (xpReward >= 3) {\n                inv.quick(2);\n                Chat.log(`&aAuto-collected: ${output.getName().getString()} (~${Math.floor(xpReward * 1.5)} XP)`);\n            } else {\n                Chat.log(`&6Low XP item (${xpReward}-${xpReward * 2}) - manual collection suggested`);\n            }l\n        } else {\n            // Provide feedback on what's being processed\n            const item = topItem.isEmpty() ? bottomItem : topItem;\n            if (item.isEnchanted()) {\n                const enchCount = item.getEnchantments().filter(e => !e.getName().toLowerCase().includes(\"curse\")).length;\n                Chat.log(`&7Processing: ${item.getName().getString()} (${enchCount} enchantments)`);\n            } else if (item.isDamageable() && item.getDurability() < item.getMaxDurability()) {\n                Chat.log(`&7Repairing: ${item.getName().getString()}`);\n            }\n        }\n    } else {\n        // Suggest items from inventory\n        const enchantedItems = [];\n        const damagedItems = [];\n\n        const allItems = inv.getItems(\"main\", \"hotbar\");\n        for (const item of allItems) {\n            if (item.isEnchanted()) {\n                const valuableEnchants = item.getEnchantments().filter(e => !e.getName().toLowerCase().includes(\"curse\"));\n                if (valuableEnchants.length > 0) {\n                    enchantedItems.push(item);\n                }\n            } else if (item.isDamageable() && item.getDurability() < item.getMaxDurability() * 0.5) {\n                damagedItems.push(item);\n            }\n        }\n\n        if (enchantedItems.length > 0) {\n            Chat.log(`&eFound ${enchantedItems.length} enchanted items to disenchant`);\n            Chat.log(`  Top suggestion: ${enchantedItems[0].getName().getString()}`);\n        }\n\n        if (damagedItems.length > 0) {\n            Chat.log(`&eFound ${damagedItems.length} damaged items to repair`);\n            Chat.log(`  Top suggestion: ${damagedItems[0].getName().getString()}`);\n        }\n\n        if (enchantedItems.length === 0 && damagedItems.length === 0) {\n            Chat.log(\"&7No items need grindstone processing\");\n        }\n    }\n}\n\n// Monitor grindstone automatically\nfunction monitorGrindstone() {\n    let tickCount = 0;\n\n    const monitor = JsMacros.on(\"Tick\", JavaWrapper.methodToJavaAsync(() => {\n        const currentInv = Inventory.create();\n        if (!currentInv || !currentInv.is(\"Grindstone\")) {\n            JsMacros.off(monitor);\n            Chat.actionbar(\"&7Grindstone closed\");\n            return;\n        }\n\n        // Update every 10 ticks (0.5 seconds)\n        if (tickCount % 10 === 0) {\n            smartGrindstoneManager();\n        }\n        tickCount++;\n    }));\n\n    Chat.log(\"Grindstone monitor started\");\n}\n\n// Example usage\nmonitorGrindstone();"
      ]
    },
    {
      "name": "getOutput",
      "signature": "getOutput()",
      "returnType": "ItemStackHelper",
      "description": "Gets the item stack currently in the output slot (Slot 2) of the grindstone after processing.",
      "parameters": [],
      "static": false,
      "examples": [
        "function disenchantItem() {\n    const inv = Inventory.create();\n\n    // Check if we have a grindstone open\n    if (!inv || !inv.is(\"Grindstone\")) {\n        Chat.log(\"Please open a grindstone first\");\n        return false;\n    }\n\n    const topItem = inv.getTopInput();\n    const bottomItem = inv.getBottomInput();\n\n    // Check if there's an item to disenchant\n    if (topItem.isEmpty() && bottomItem.isEmpty()) {\n        Chat.log(\"Please place an item in the grindstone\");\n        return false;\n    }\n\n    // Make sure only one slot is occupied\n    if (!topItem.isEmpty() && !bottomItem.isEmpty()) {\n        Chat.log(\"Please remove one item - grindstone can only process one at a time\");\n        return false;\n    }\n\n    const item = topItem.isEmpty() ? bottomItem : topItem;\n\n    if (!item.isEnchanted() && (!item.isDamageable() || item.getDurability() === item.getMaxDurability())) {\n        Chat.log(\"This item doesn't need processing (no enchantments or damage)\");\n        return false;\n    }\n\n    // Calculate expected XP\n    const xpReward = inv.simulateXp();\n    Chat.log(`Expected XP: ${xpReward} - ${xpReward * 2} orbs`);\n\n    // Check if output is ready\n    const output = inv.getOutput();\n    if (!output.isEmpty()) {\n        Chat.log(`Disenchanting: ${item.getName().getString()}`);\n        Chat.log(`Result: ${output.getName().getString()}`);\n\n        // Take the result\n        inv.quick(2);\n        Chat.log(\"Disenchanting complete!\");\n        return true;\n    } else {\n        Chat.log(\"Waiting for disenchanting process...\");\n        return false;\n    }\n}\n\n// Example usage\ndisenchantItem();",
        "function batchDisenchant(maxItems = 10) {\n    const inv = Inventory.create();\n\n    if (!inv || !inv.is(\"Grindstone\")) {\n        Chat.log(\"Please open a grindstone first\");\n        return;\n    }\n\n    let processed = 0;\n    let totalXP = 0;\n\n    Chat.log(`Starting batch disenchanting (max ${maxItems} items)...`);\n\n    function processNextItem() {\n        if (processed >= maxItems) {\n            Chat.log(`Batch complete! Processed ${processed} items for ~${totalXP} XP`);\n            return;\n        }\n\n        const currentInv = Inventory.create();\n        if (!currentInv || !currentInv.is(\"Grindstone\")) {\n            Chat.log(\"Grindstone closed - stopping batch process\");\n            return;\n        }\n\n        const topItem = currentInv.getTopInput();\n        const bottomItem = currentInv.getBottomInput();\n        const output = currentInv.getOutput();\n\n        // Check if we need to load next item\n        if (topItem.isEmpty() && bottomItem.isEmpty()) {\n            // Find next enchanted item in inventory\n            const enchantedItems = [];\n            const allItems = currentInv.getItems(\"main\", \"hotbar\");\n\n            for (const item of allItems) {\n                if (item.isEnchanted()) {\n                    enchantedItems.push(item);\n                }\n            }\n\n            if (enchantedItems.length === 0) {\n                Chat.log(\"No more enchanted items found\");\n                Chat.log(`Batch complete! Processed ${processed} items for ~${totalXP} XP`);\n                return;\n            }\n\n            // Move first enchanted item to grindstone\n            const targetItem = enchantedItems[0];\n            const itemSlots = currentInv.findItem(targetItem.getItemId());\n\n            if (itemSlots.length > 0) {\n                currentInv.swapHotbar(itemSlots[0], 0);\n                currentInv.click(0); // Place in top slot\n                Chat.log(`Loaded: ${targetItem.getName().getString()}`);\n\n                // Wait for processing\n                setTimeout(processNextItem, 500);\n                return;\n            }\n        }\n\n        // Check if output is ready\n        if (!output.isEmpty()) {\n            const xpReward = currentInv.simulateXp();\n            totalXP += Math.floor(xpReward * 1.5); // Average estimate\n\n            // Take the result\n            currentInv.quick(2);\n            processed++;\n\n            Chat.log(`Processed ${processed}/${maxItems}: ${output.getName().getString()} (~${Math.floor(xpReward * 1.5)} XP)`);\n\n            // Clear the slot and continue\n            setTimeout(processNextItem, 500);\n        } else {\n            // Still processing, wait longer\n            setTimeout(processNextItem, 1000);\n        }\n    }\n\n    processNextItem();\n}\n\n// Example usage\n// batchDisenchant(5); // Disenchant up to 5 items",
        "function smartGrindstoneManager() {\n    const inv = Inventory.create();\n\n    if (!inv || !inv.is(\"Grindstone\")) {\n        Chat.log(\"Please open a grindstone first\");\n        return;\n    }\n\n    const topItem = inv.getTopInput();\n    const bottomItem = inv.getBottomInput();\n    const output = inv.getOutput();\n\n    // Auto-process logic\n    if (!topItem.isEmpty() || !bottomItem.isEmpty()) {\n        if (!output.isEmpty()) {\n            const xpReward = inv.simulateXp();\n\n            // Auto-take if XP is decent\n            if (xpReward >= 3) {\n                inv.quick(2);\n                Chat.log(`&aAuto-collected: ${output.getName().getString()} (~${Math.floor(xpReward * 1.5)} XP)`);\n            } else {\n                Chat.log(`&6Low XP item (${xpReward}-${xpReward * 2}) - manual collection suggested`);\n            }\n        } else {\n            // Provide feedback on what's being processed\n            const item = topItem.isEmpty() ? bottomItem : topItem;\n            if (item.isEnchanted()) {\n                const enchCount = item.getEnchantments().filter(e => !e.getName().toLowerCase().includes(\"curse\")).length;\n                Chat.log(`&7Processing: ${item.getName().getString()} (${enchCount} enchantments)`);\n            } else if (item.isDamageable() && item.getDurability() < item.getMaxDurability()) {\n                Chat.log(`&7Repairing: ${item.getName().getString()}`);\n            }\n        }\n    } else {\n        // Suggest items from inventory\n        const enchantedItems = [];\n        const damagedItems = [];\n\n        const allItems = inv.getItems(\"main\", \"hotbar\");\n        for (const item of allItems) {\n            if (item.isEnchanted()) {\n                const valuableEnchants = item.getEnchantments().filter(e => !e.getName().toLowerCase().includes(\"curse\"));\n                if (valuableEnchants.length > 0) {\n                    enchantedItems.push(item);\n                }\n            } else if (item.isDamageable() && item.getDurability() < item.getMaxDurability() * 0.5) {\n                damagedItems.push(item);\n            }\n        }\n\n        if (enchantedItems.length > 0) {\n            Chat.log(`&eFound ${enchantedItems.length} enchanted items to disenchant`);\n            Chat.log(`  Top suggestion: ${enchantedItems[0].getName().getString()}`);\n        }\n\n        if (damagedItems.length > 0) {\n            Chat.log(`&eFound ${damagedItems.length} damaged items to repair`);\n            Chat.log(`  Top suggestion: ${damagedItems[0].getName().getString()}`);\n        }\n\n        if (enchantedItems.length === 0 && damagedItems.length === 0) {\n            Chat.log(\"&7No items need grindstone processing\");\n        }\n    }\n}\n\n// Monitor grindstone automatically\nfunction monitorGrindstone() {\n    let tickCount = 0;\n\n    const monitor = JsMacros.on(\"Tick\", JavaWrapper.methodToJavaAsync(() => {\n        const currentInv = Inventory.create();\n        if (!currentInv || !currentInv.is(\"Grindstone\")) {\n            JsMacros.off(monitor);\n            Chat.actionbar(\"&7Grindstone closed\");\n            return;\n        }\n\n        // Update every 10 ticks (0.5 seconds)\n        if (tickCount % 10 === 0) {\n            smartGrindstoneManager();\n        }\n        tickCount++;\n    }));\n\n    Chat.log(\"Grindstone monitor started\");\n}\n\n// Example usage\nmonitorGrindstone();"
      ]
    },
    {
      "name": "simulateXp",
      "signature": "simulateXp()",
      "returnType": "int",
      "description": "Simulates and returns the amount of experience points (as an integer) that would be gained if the item in the output slot were collected.",
      "parameters": [],
      "static": false,
      "examples": [
        "function disenchantItem() {\n    const inv = Inventory.create();\n\n    // Check if we have a grindstone open\n    if (!inv || !inv.is(\"Grindstone\")) {\n        Chat.log(\"Please open a grindstone first\");\n        return false;\n    }\n\n    const topItem = inv.getTopInput();\n    const bottomItem = inv.getBottomInput();\n\n    // Check if there's an item to disenchant\n    if (topItem.isEmpty() && bottomItem.isEmpty()) {\n        Chat.log(\"Please place an item in the grindstone\");\n        return false;\n    }\n\n    // Make sure only one slot is occupied\n    if (!topItem.isEmpty() && !bottomItem.isEmpty()) {\n        Chat.log(\"Please remove one item - grindstone can only process one at a time\");\n        return false;\n    }\n\n    const item = topItem.isEmpty() ? bottomItem : topItem;\n\n    if (!item.isEnchanted() && (!item.isDamageable() || item.getDurability() === item.getMaxDurability())) {\n        Chat.log(\"This item doesn't need processing (no enchantments or damage)\");\n        return false;\n    }\n\n    // Calculate expected XP\n    const xpReward = inv.simulateXp();\n    Chat.log(`Expected XP: ${xpReward} - ${xpReward * 2} orbs`);\n\n    // Check if output is ready\n    const output = inv.getOutput();\n    if (!output.isEmpty()) {\n        Chat.log(`Disenchanting: ${item.getName().getString()}`);\n        Chat.log(`Result: ${output.getName().getString()}`);\n\n        // Take the result\n        inv.quick(2);\n        Chat.log(\"Disenchanting complete!\");\n        return true;\n    } else {\n        Chat.log(\"Waiting for disenchanting process...\");\n        return false;\n    }\n}\n\n// Example usage\ndisenchantItem();",
        "function batchDisenchant(maxItems = 10) {\n    const inv = Inventory.create();\n\n    if (!inv || !inv.is(\"Grindstone\")) {\n        Chat.log(\"Please open a grindstone first\");\n        return;\n    }\n\n    let processed = 0;\n    let totalXP = 0;\n\n    Chat.log(`Starting batch disenchanting (max ${maxItems} items)...`);\n\n    function processNextItem() {\n        if (processed >= maxItems) {\n            Chat.log(`Batch complete! Processed ${processed} items for ~${totalXP} XP`);\n            return;\n        }\n\n        const currentInv = Inventory.create();\n        if (!currentInv || !currentInv.is(\"Grindstone\")) {\n            Chat.log(\"Grindstone closed - stopping batch process\");\n            return;\n        }\n\n        const topItem = currentInv.getTopInput();\n        const bottomItem = currentInv.getBottomInput();\n        const output = currentInv.getOutput();\n\n        // Check if we need to load next item\n        if (topItem.isEmpty() && bottomItem.isEmpty()) {\n            // Find next enchanted item in inventory\n            const enchantedItems = [];\n            const allItems = currentInv.getItems(\"main\", \"hotbar\");\n\n            for (const item of allItems) {\n                if (item.isEnchanted()) {\n                    enchantedItems.push(item);\n                }\n            }\n\n            if (enchantedItems.length === 0) {\n                Chat.log(\"No more enchanted items found\");\n                Chat.log(`Batch complete! Processed ${processed} items for ~${totalXP} XP`);\n                return;\n            }\n\n            // Move first enchanted item to grindstone\n            const targetItem = enchantedItems[0];\n            const itemSlots = currentInv.findItem(targetItem.getItemId());\n\n            if (itemSlots.length > 0) {\n                currentInv.swapHotbar(itemSlots[0], 0);\n                currentInv.click(0); // Place in top slot\n                Chat.log(`Loaded: ${targetItem.getName().getString()}`);\n\n                // Wait for processing\n                setTimeout(processNextItem, 500);\n                return;\n            }\n        }\n\n        // Check if output is ready\n        if (!output.isEmpty()) {\n            const xpReward = currentInv.simulateXp();\n            totalXP += Math.floor(xpReward * 1.5); // Average estimate\n\n            // Take the result\n            currentInv.quick(2);\n            processed++;\n\n            Chat.log(`Processed ${processed}/${maxItems}: ${output.getName().getString()} (~${Math.floor(xpReward * 1.5)} XP)`);\n\n            // Clear the slot and continue\n            setTimeout(processNextItem, 500);\n        } else {\n            // Still processing, wait longer\n            setTimeout(processNextItem, 1000);\n        }\n    }\n\n    processNextItem();\n}\n\n// Example usage\n// batchDisenchant(5); // Disenchant up to 5 items",
        "function calculateGrindstoneValue() {\n    const inv = Inventory.create();\n\n    if (!inv || !inv.is(\"Grindstone\")) {\n        Chat.log(\"Please open a grindstone first\");\n        return;\n    }\n\n    const topItem = inv.getTopInput();\n    const bottomItem = inv.getBottomInput();\n\n    Chat.log(\"=== Grindstone Value Analysis ===\");\n\n    let totalMinXP = 0;\n    let totalMaxXP = 0;\n    let itemCount = 0;\n\n    function analyzeItem(item, slotName) {\n        if (item.isEmpty()) return;\n\n        itemCount++;\n        Chat.log(`\\n${slotName}: ${item.getName().getString()}`);\n\n        if (item.isEnchanted()) {\n            const enchantments = item.getEnchantments();\n            let itemXP = 0;\n            let valuableEnchants = [];\n\n            for (const ench of enchantments) {\n                if (!ench.getName().toLowerCase().includes(\"curse\")) {\n                    const enchValue = ench.getLevel() * 2; // Rough estimate\n                    itemXP += enchValue;\n                    valuableEnchants.push(`${ench.getName()} ${ench.getLevel()}`);\n                }\n            }\n\n            Chat.log(`  Enchantments: ${valuableEnchants.join(\", \")}`);\n            Chat.log(`  Estimated XP value: ${itemXP}`);\n\n            totalMinXP += Math.ceil(itemXP / 2);\n            totalMaxXP += itemXP;\n        } else {\n            Chat.log(\"  No enchantments\");\n        }\n\n        if (item.isDamageable()) {\n            const durabilityPercent = (item.getDurability() / item.getMaxDurability()) * 100;\n            Chat.log(`  Durability: ${durabilityPercent.toFixed(1)}%`);\n\n            if (durabilityPercent < 100) {\n                Chat.log(\"  Can be repaired at grindstone\");\n            }\n        }\n    }\n\n    analyzeItem(topItem, \"Top Item\");\n    analyzeItem(bottomItem, \"Bottom Item\");\n\n    const actualXP = inv.simulateXp();\n\n    Chat.log(\"\\n=== Summary ===\");\n    Chat.log(`Items to process: ${itemCount}`);\n    Chat.log(`Estimated XP range: ${totalMinXP} - ${totalMaxXP}`);\n    Chat.log(`Actual calculation: ${actualXP} - ${actualXP * 2}`);\n\n    if (actualXP > 0) {\n        Chat.log(\"\\nEnchantment breakdown (high value):\");\n\n        if (!topItem.isEmpty() && topItem.isEnchanted()) {\n            for (const ench of topItem.getEnchantments()) {\n                if (!ench.getName().toLowerCase().includes(\"curse\")) {\n                    Chat.log(`  ${ench.getName()} ${ench.getLevel()}: ~${ench.getLevel() * 2} XP`);\n                }\n            }\n        }\n\n        if (!bottomItem.isEmpty() && bottomItem.isEnchanted()) {\n            for (const ench of bottomItem.getEnchantments()) {\n                if (!ench.getName().toLowerCase().includes(\"curse\")) {\n                    Chat.log(`  ${ench.getName()} ${ench.getLevel()}: ~${ench.getLevel() * 2} XP`);\n                }\n            }\n        }\n    }\n\n    Chat.log(\"===============================\");\n}\n\n// Example usage\ncalculateGrindstoneValue();",
        "function smartGrindstoneManager() {\n    const inv = Inventory.create();\n\n    if (!inv || !inv.is(\"Grindstone\")) {\n        Chat.log(\"Please open a grindstone first\");\n        return;\n    }\n\n    const topItem = inv.getTopInput();\n    const bottomItem = inv.getBottomInput();\n    const output = inv.getOutput();\n\n    // Auto-process logic\n    if (!topItem.isEmpty() || !bottomItem.isEmpty()) {\n        if (!output.isEmpty()) {\n            const xpReward = inv.simulateXp();\n\n            // Auto-take if XP is decent\n            if (xpReward >= 3) {\n                inv.quick(2);\n                Chat.log(`&aAuto-collected: ${output.getName().getString()} (~${Math.floor(xpReward * 1.5)} XP)`);\n            } else {\n                Chat.log(`&6Low XP item (${xpReward}-${xpReward * 2}) - manual collection suggested`);\n            }\n        } else {\n            // Provide feedback on what's being processed\n            const item = topItem.isEmpty() ? bottomItem : topItem;\n            if (item.isEnchanted()) {\n                const enchCount = item.getEnchantments().filter(e => !e.getName().toLowerCase().includes(\"curse\")).length;\n                Chat.log(`&7Processing: ${item.getName().getString()} (${enchCount} enchantments)`);\n            } else if (item.isDamageable() && item.getDurability() < item.getMaxDurability()) {\n                Chat.log(`&7Repairing: ${item.getName().getString()}`);\n            }\n        }\n    }\n}\n\n// Monitor grindstone automatically\nfunction monitorGrindstone() {\n    let tickCount = 0;\n\n    const monitor = JsMacros.on(\"Tick\", JavaWrapper.methodToJavaAsync(() => {\n        const currentInv = Inventory.create();\n        if (!currentInv || !currentInv.is(\"Grindstone\")) {\n            JsMacros.off(monitor);\n            Chat.actionbar(\"&7Grindstone closed\");\n            return;\n        }\n\n        // Update every 10 ticks (0.5 seconds)\n        if (tickCount % 10 === 0) {\n            smartGrindstoneManager();\n        }\n        tickCount++;\n    }));\n\n    Chat.log(\"Grindstone monitor started\");\n}\n\n// Example usage\nmonitorGrindstone();"
      ]
    }
  ]
}
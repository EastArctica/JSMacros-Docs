{
  "name": "SlotUpdate",
  "fullClassName": "EventSlotUpdate",
  "extends": null,
  "since": null,
  "description": "This event is fired when an inventory slot is updated.",
  "overview": "The SlotUpdate event is fired when an inventory slot is updated. It is backed by class `EventSlotUpdate`.\n\n### Event Payload\nThe event object passed to the listener contains the following fields:\n\n- `type` (string): The type of slot update.\n- `slot` (int): The slot number that was updated.\n- `oldStack` (ItemStackHelper): The previous item stack in the slot.\n- `newStack` (ItemStackHelper): The new item stack in the slot.\n\n### Behavior\n* Fires when any inventory slot changes\n* The `type` field indicates the update category\n* The `slot` field contains the updated slot number\n* The `oldStack` and `newStack` fields show before/after states\n* Not cancellable\n* Useful for inventory tracking and automation\n\n### Field Details\n\n- **`event.type`**\n  - Description: The type of slot update.\n  - Type: `string`\n  - Notes: Possible values: `'HELD'` (Currently held item slot), `'INVENTORY'` (Player inventory slots), `'SCREEN'` (Container screen slots (chests, furnaces, etc.)).\n- **`event.slot`**\n  - Description: The slot number that was updated.\n  - Type: `int`\n  - Notes: Slot numbers vary by context: Hotbar: 0-8, Main inventory: 9-35, Armor: 100-103 (helmet, chestplate, leggings, boots), Offhand: 40, Container slots depend on container type.\n- **`event.oldStack`**\n  - Description: The previous item stack in the slot.\n  - Type: `ItemStackHelper`\n  - Notes: This represents what was in the slot before the update. Can be empty if the slot was previously empty.\n- **`event.newStack`**\n  - Description: The new item stack in the slot.\n  - Type: `ItemStackHelper`\n  - Notes: This represents what is now in the slot after the update. Can be empty if the slot is now empty.\n\n### Examples\n\n#### Minimal example\n```js\nJsMacros.on(\"SlotUpdate\", JavaWrapper.methodToJavaAsync((e) => {\n  Chat.log(`Slot ${e.slot} updated: ${e.type}`);\n}));\n```\n\n#### Async example\n```js\nJsMacros.on(\"SlotUpdate\", JavaWrapper.methodToJavaAsync((e) => {\n  const slot = e.slot;\n  const updateType = e.type;\n  const oldItem = e.oldStack;\n  const newItem = e.newStack;\n\n  Chat.log(`&dSlot Update: &f${updateType} &7slot ${slot}`);\n\n  // Get item names\n  const oldItemName = oldItem && !oldItem.isEmpty() ? oldItem.getName().getString() : \"Empty\";\n  const newItemName = newItem && !newItem.isEmpty() ? newItem.getName().getString() : \"Empty\";\n\n  // Show what changed\n  if (oldItemName !== newItemName) {\n    Chat.log(`&7Changed: ${oldItemName} â†’ ${newItemName}`);\n  }\n\n  // Handle different update types\n  switch(updateType) {\n    case 'HELD':\n      handleHeldSlotUpdate(slot, oldItem, newItem);\n      break;\n    case 'INVENTORY':\n      handleInventorySlotUpdate(slot, oldItem, newItem);\n      break;\n    case 'SCREEN':\n      handleScreenSlotUpdate(slot, oldItem, newItem);\n      break;\n  }\n\n  // Check for valuable item changes\n  if (isValuableItem(newItemName) && !isValuableItem(oldItemName)) {\n    Chat.log(`&aValuable item acquired: ${newItemName}`);\n    Chat.actionbar(`&a+${newItemName}`);\n  }\n\n  // Check for valuable item losses\n  if (isValuableItem(oldItemName) && !isValuableItem(newItemName)) {\n    Chat.log(`&cValuable item used/lost: ${oldItemName}`);\n    Chat.actionbar(`&c-${oldItemName}`);\n  }\n\n  // Hotbar changes\n  if (slot >= 0 && slot <= 8) {\n    Chat.log(`&eHotbar slot ${slot}: ${newItemName}`);\n  }\n}));\n\nfunction handleHeldSlotUpdate(slot, oldItem, newItem) {\n  Chat.log(`&6Held slot ${slot} changed`);\n\n  if (newItem && !newItem.isEmpty()) {\n    const item = newItem.getName().getString();\n    const enchantments = newItem.getEnchantments();\n\n    Chat.log(`&eNow holding: ${item}`);\n\n    if (enchantments.length > 0) {\n      Chat.log(`&dEnchantments: ${enchantments.length}`);\n    }\n\n    // Check durability\n    if (newItem.getMaxDamage() > 0) {\n      const damage = newItem.getDamage();\n      const maxDamage = newItem.getMaxDamage();\n      const durability = ((maxDamage - damage) / maxDamage) * 100;\n\n      if (durability <= 20) {\n        Chat.log(`&cWarning: ${item} is almost broken! (${durability.toFixed(0)}%)`);\n      }\n    }\n  }\n}\n\nfunction handleInventorySlotUpdate(slot, oldItem, newItem) {\n  Chat.log(`&7Inventory slot ${slot} updated`);\n\n  // Armor slots\n  if (slot >= 100 && slot <= 103) {\n    const armorSlots = {100: \"Boots\", 101: \"Leggings\", 102: \"Chestplate\", 103: \"Helmet\"};\n    const armorType = armorSlots[slot];\n\n    Chat.log(`&bArmor updated: ${armorType}`);\n\n    if (newItem && !newItem.isEmpty()) {\n      const armor = newItem.getName().getString();\n      Chat.log(`&7Equipped: ${armor}`);\n\n      // Check armor durability\n      if (newItem.getMaxDamage() > 0) {\n        const durability = ((newItem.getMaxDamage() - newItem.getDamage()) / newItem.getMaxDamage()) * 100;\n        if (durability <= 25) {\n          Chat.log(`&cWarning: ${armorType} is damaged! (${durability.toFixed(0)}%)`);\n        }\n      }\n    }\n  }\n\n  // Crafting grid (player inventory)\n  if (slot >= 1 && slot <= 4) {\n    Chat.log(`&dCrafting slot ${slot} updated`);\n  }\n\n  // Hotbar\n  if (slot >= 36 && slot <= 44) {\n    const hotbarSlot = slot - 36;\n    Chat.log(`&eHotbar slot ${hotbarSlot} (inventory) updated`);\n  }\n}\n\nfunction handleScreenSlotUpdate(slot, oldItem, newItem) {\n  Chat.log(`&aScreen slot ${slot} updated`);\n\n  // Could be chest, furnace, crafting table, etc.\n  const inventory = e.getInventory();\n  const screenName = inventory.getClassName();\n\n  if (screenName.includes(\"Chest\")) {\n    handleChestSlotUpdate(slot, oldItem, newItem);\n  } else if (screenName.includes(\"Furnace\")) {\n    handleFurnaceSlotUpdate(slot, oldItem, newItem);\n  } else if (screenName.includes(\"Crafting\")) {\n    handleCraftingSlotUpdate(slot, oldItem, newItem);\n  }\n}\n\nfunction handleChestSlotUpdate(slot, oldItem, newItem) {\n  Chat.log(`&6Chest slot ${slot} updated`);\n\n  if (newItem && !newItem.isEmpty()) {\n    const item = newItem.getName().getString();\n    const count = newItem.getCount();\n    Chat.log(`&7Added: ${item} (x${count})`);\n  }\n}\n\nfunction handleFurnaceSlotUpdate(slot, oldItem, newItem) {\n  const furnaceSlots = {0: \"Input\", 1: \"Fuel\", 2: \"Output\"};\n  const slotType = furnaceSlots[slot] || `Unknown(${slot})`;\n\n  Chat.log(`&eFurnace ${slotType} updated`);\n\n  if (slot === 2 && newItem && !newItem.isEmpty()) {\n    Chat.log(`&aSmelting complete: ${newItem.getName().getString()}`);\n  }\n}\n\nfunction handleCraftingSlotUpdate(slot, oldItem, newItem) {\n  if (slot === 0 && newItem && !newItem.isEmpty()) {\n    Chat.log(`&dCrafting result: ${newItem.getName().getString()}`);\n  }\n}\n\nfunction isValuableItem(itemName) {\n  if (!itemName || itemName === \"Empty\") return false;\n\n  const valuableItems = [\n    \"diamond\", \"netherite\", \"elytra\", \"totem\", \"enchanted\",\n    \"golden_apple\", \"notch_apple\", \"dragon\", \"beacon\",\n    \"shulker_box\", \"end_crystal\", \"heart_of_the_sea\",\n    \"nether_star\", \"dragon_egg\"\n  ];\n\n  return valuableItems.some(val => itemName.toLowerCase().includes(val));\n}\n```",
  "constructors": [],
  "methods": [
    {
      "name": "getInventory",
      "signature": "event.getInventory()",
      "returnType": "Inventory<?>",
      "description": "Returns the inventory associated with this slot update.",
      "parameters": [],
      "static": false,
      "examples": []
    },
    {
      "name": "toString",
      "signature": "event.toString()",
      "returnType": "string",
      "description": "Returns a string representation of the event object.",
      "parameters": [],
      "static": false,
      "examples": []
    }
  ]
}